ğŸ·: #react #å—æ§ç»„ä»¶ #éå—æ§ç»„ä»¶
***

## ä¸€ã€å—æ§ç»„ä»¶

å—æ§ç»„ä»¶ï¼Œç®€å•æ¥è®²ï¼Œå°±æ˜¯å—æˆ‘ä»¬æ§åˆ¶çš„ç»„ä»¶ï¼Œç»„ä»¶çš„çŠ¶æ€å…¨ç¨‹å“åº”å¤–éƒ¨æ•°æ®

ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š

```jsx
class TestComponent extends React.Component {
  constructor (props) {
    super(props);
    this.state = { username: 'lindaidai' };
  }
  render () {
    return <input name="username" value={this.state.username} />
  }
}
```

è¿™æ—¶å€™å½“æˆ‘ä»¬åœ¨è¾“å…¥æ¡†è¾“å…¥å†…å®¹çš„æ—¶å€™ï¼Œä¼šå‘ç°è¾“å…¥çš„å†…å®¹å¹¶æ— æ³•æ˜¾ç¤ºå‡ºæ¥ï¼Œä¹Ÿå°±æ˜¯`input`æ ‡ç­¾æ˜¯ä¸€ä¸ªå¯è¯»çš„çŠ¶æ€

è¿™æ˜¯å› ä¸º`value`è¢«`this.state.username`æ‰€æ§åˆ¶ä½ã€‚å½“ç”¨æˆ·è¾“å…¥æ–°çš„å†…å®¹æ—¶ï¼Œ`this.state.username`å¹¶ä¸ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œè¿™æ ·çš„è¯`input`å†…çš„å†…å®¹ä¹Ÿå°±ä¸ä¼šå˜äº†

å¦‚æœæƒ³è¦è§£é™¤è¢«æ§åˆ¶ï¼Œå¯ä»¥ä¸º`input`æ ‡ç­¾è®¾ç½®`onChange`äº‹ä»¶ï¼Œè¾“å…¥çš„æ—¶å€™è§¦å‘äº‹ä»¶å‡½æ•°ï¼Œåœ¨å‡½æ•°å†…éƒ¨å®ç°`state`çš„æ›´æ–°ï¼Œä»è€Œå¯¼è‡´`input`æ¡†çš„å†…å®¹é¡µå‘ç°æ”¹å˜

å› æ­¤ï¼Œå—æ§ç»„ä»¶æˆ‘ä»¬ä¸€èˆ¬éœ€è¦åˆå§‹çŠ¶æ€å’Œä¸€ä¸ªçŠ¶æ€æ›´æ–°äº‹ä»¶å‡½æ•°

## äºŒã€éå—æ§ç»„ä»¶

éå—æ§ç»„ä»¶ï¼Œç®€å•æ¥è®²ï¼Œå°±æ˜¯ä¸å—æˆ‘ä»¬æ§åˆ¶çš„ç»„ä»¶

ä¸€èˆ¬æƒ…å†µæ˜¯åœ¨åˆå§‹åŒ–çš„æ—¶å€™æ¥å—å¤–éƒ¨æ•°æ®ï¼Œç„¶åè‡ªå·±åœ¨å†…éƒ¨å­˜å‚¨å…¶è‡ªèº«çŠ¶æ€

å½“éœ€è¦æ—¶ï¼Œå¯ä»¥ä½¿ç”¨` ref ` æŸ¥è¯¢ `DOM `å¹¶æŸ¥æ‰¾å…¶å½“å‰å€¼ï¼Œå¦‚ä¸‹ï¼š

```jsx
import React, { Component } from 'react';

export class UnControll extends Component {
  constructor (props) {
    super(props);
    this.inputRef = React.createRef();
  }
  handleSubmit = (e) => {
    console.log('æˆ‘ä»¬å¯ä»¥è·å¾—inputå†…çš„å€¼ä¸º', this.inputRef.current.value);
    e.preventDefault();
  }
  render () {
    return (
      <form onSubmit={e => this.handleSubmit(e)}>
        <input defaultValue="lindaidai" ref={this.inputRef} />
        <input type="submit" value="æäº¤" />
      </form>
    )
  }
}
```

å…³äº`refs`çš„è¯¦æƒ…ä½¿ç”¨å¯ä»¥å‚è€ƒ[ä¹‹å‰æ–‡ç« ](https://mp.weixin.qq.com/s/ZBKWcslVBi0IKQgz7lYzbA)

## ä¸‰ã€åº”ç”¨åœºæ™¯

å¤§éƒ¨åˆ†æ—¶å€™æ¨èä½¿ç”¨å—æ§ç»„ä»¶æ¥å®ç°è¡¨å•ï¼Œå› ä¸ºåœ¨å—æ§ç»„ä»¶ä¸­ï¼Œè¡¨å•æ•°æ®ç”±`React`ç»„ä»¶è´Ÿè´£å¤„ç†

å¦‚æœé€‰æ‹©éå—æ§ç»„ä»¶çš„è¯ï¼Œæ§åˆ¶èƒ½åŠ›è¾ƒå¼±ï¼Œè¡¨å•æ•°æ®å°±ç”±`DOM`æœ¬èº«å¤„ç†ï¼Œä½†æ›´åŠ æ–¹ä¾¿å¿«æ·ï¼Œä»£ç é‡å°‘

é’ˆå¯¹ä¸¤è€…çš„åŒºåˆ«ï¼Œå…¶åº”ç”¨åœºæ™¯å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

 ![](https://static.vue-js.com/f28aed20-df2f-11eb-ab90-d9ae814b240d.png)





## å‚è€ƒæ–‡çŒ®

- http://meloguo.com/2018/10/08/å—æ§ä¸éå—æ§ç»„ä»¶/
- https://zhuanlan.zhihu.com/p/37579677

