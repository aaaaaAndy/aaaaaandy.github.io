"use strict";(self.webpackChunkaaaaaandy_github_io=self.webpackChunkaaaaaandy_github_io||[]).push([[27300],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>N});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var p=a.createContext({}),d=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},c=function(e){var n=d(e.components);return a.createElement(p.Provider,{value:n},e.children)},s="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),s=d(t),u=o,N=s["".concat(p,".").concat(u)]||s[u]||m[u]||i;return t?a.createElement(N,r(r({ref:n},c),{},{components:t})):a.createElement(N,r({ref:n},c))}));function N(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,r=new Array(i);r[0]=u;var l={};for(var p in n)hasOwnProperty.call(n,p)&&(l[p]=n[p]);l.originalType=e,l[s]="string"==typeof e?e:o,r[1]=l;for(var d=2;d<i;d++)r[d]=t[d];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},89505:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>r,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var a=t(87462),o=(t(67294),t(3905));const i={},r=void 0,l={unversionedId:"vue/\u4ec0\u4e48\u662f\u865a\u62dfDOM\uff0c\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a\u865a\u62dfDOM",id:"vue/\u4ec0\u4e48\u662f\u865a\u62dfDOM\uff0c\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a\u865a\u62dfDOM",title:"\u4ec0\u4e48\u662f\u865a\u62dfDOM\uff0c\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a\u865a\u62dfDOM",description:"\u4e00\u3001\u4ec0\u4e48\u662f\u865a\u62dfDOM",source:"@site/docs/vue/\u4ec0\u4e48\u662f\u865a\u62dfDOM\uff0c\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a\u865a\u62dfDOM.md",sourceDirName:"vue",slug:"/vue/\u4ec0\u4e48\u662f\u865a\u62dfDOM\uff0c\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a\u865a\u62dfDOM",permalink:"/docs/vue/\u4ec0\u4e48\u662f\u865a\u62dfDOM\uff0c\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a\u865a\u62dfDOM",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"vueSidebar",previous:{title:"\u4e3a\u4ec0\u4e48data\u5c5e\u6027\u662f\u4e00\u4e2a\u51fd\u6570\u800c\u4e0d\u662f\u4e00\u4e2a\u5bf9\u8c61",permalink:"/docs/vue/\u4e3a\u4ec0\u4e48data\u5c5e\u6027\u662f\u4e00\u4e2a\u51fd\u6570\u800c\u4e0d\u662f\u4e00\u4e2a\u5bf9\u8c61"},next:{title:"\u53cc\u5411\u6570\u636e\u7ed1\u5b9a\u662f\u4ec0\u4e48",permalink:"/docs/vue/\u53cc\u5411\u6570\u636e\u7ed1\u5b9a\u662f\u4ec0\u4e48"}},p={},d=[{value:"\u4e00\u3001\u4ec0\u4e48\u662f\u865a\u62dfDOM",id:"\u4e00\u4ec0\u4e48\u662f\u865a\u62dfdom",level:2},{value:"\u4e8c\u3001\u4e3a\u4ec0\u4e48\u9700\u8981\u865a\u62dfDOM",id:"\u4e8c\u4e3a\u4ec0\u4e48\u9700\u8981\u865a\u62dfdom",level:2},{value:"\u4e09\u3001\u5982\u4f55\u5b9e\u73b0\u865a\u62dfDOM",id:"\u4e09\u5982\u4f55\u5b9e\u73b0\u865a\u62dfdom",level:2},{value:"\u5c0f\u7ed3",id:"\u5c0f\u7ed3",level:3},{value:"\u53c2\u8003\u6587\u732e",id:"\u53c2\u8003\u6587\u732e",level:2}],c={toc:d},s="wrapper";function m(e){let{components:n,...t}=e;return(0,o.kt)(s,(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"\u4e00\u4ec0\u4e48\u662f\u865a\u62dfdom"},"\u4e00\u3001\u4ec0\u4e48\u662f\u865a\u62dfDOM"),(0,o.kt)("p",null,"\u865a\u62df DOM \uff08",(0,o.kt)("inlineCode",{parentName:"p"},"Virtual DOM")," \uff09\u8fd9\u4e2a\u6982\u5ff5\u76f8\u4fe1\u5927\u5bb6\u90fd\u4e0d\u964c\u751f\uff0c\u4ece ",(0,o.kt)("inlineCode",{parentName:"p"},"React")," \u5230 ",(0,o.kt)("inlineCode",{parentName:"p"},"Vue")," \uff0c\u865a\u62df ",(0,o.kt)("inlineCode",{parentName:"p"},"DOM")," \u4e3a\u8fd9\u4e24\u4e2a\u6846\u67b6\u90fd\u5e26\u6765\u4e86\u8de8\u5e73\u53f0\u7684\u80fd\u529b\uff08",(0,o.kt)("inlineCode",{parentName:"p"},"React-Native")," \u548c ",(0,o.kt)("inlineCode",{parentName:"p"},"Weex"),"\uff09"),(0,o.kt)("p",null,"\u5b9e\u9645\u4e0a\u5b83\u53ea\u662f\u4e00\u5c42\u5bf9\u771f\u5b9e",(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\u7684\u62bd\u8c61\uff0c\u4ee5",(0,o.kt)("inlineCode",{parentName:"p"},"JavaScript")," \u5bf9\u8c61 (",(0,o.kt)("inlineCode",{parentName:"p"},"VNode")," \u8282\u70b9) \u4f5c\u4e3a\u57fa\u7840\u7684\u6811\uff0c\u7528\u5bf9\u8c61\u7684\u5c5e\u6027\u6765\u63cf\u8ff0\u8282\u70b9\uff0c\u6700\u7ec8\u53ef\u4ee5\u901a\u8fc7\u4e00\u7cfb\u5217\u64cd\u4f5c\u4f7f\u8fd9\u68f5\u6811\u6620\u5c04\u5230\u771f\u5b9e\u73af\u5883\u4e0a"),(0,o.kt)("p",null,"\u5728",(0,o.kt)("inlineCode",{parentName:"p"},"Javascript"),"\u5bf9\u8c61\u4e2d\uff0c\u865a\u62df",(0,o.kt)("inlineCode",{parentName:"p"},"DOM")," \u8868\u73b0\u4e3a\u4e00\u4e2a ",(0,o.kt)("inlineCode",{parentName:"p"},"Object "),"\u5bf9\u8c61\u3002\u5e76\u4e14\u6700\u5c11\u5305\u542b\u6807\u7b7e\u540d (",(0,o.kt)("inlineCode",{parentName:"p"},"tag"),")\u3001\u5c5e\u6027 (",(0,o.kt)("inlineCode",{parentName:"p"},"attrs"),") \u548c\u5b50\u5143\u7d20\u5bf9\u8c61 (",(0,o.kt)("inlineCode",{parentName:"p"},"children"),") \u4e09\u4e2a\u5c5e\u6027\uff0c\u4e0d\u540c\u6846\u67b6\u5bf9\u8fd9\u4e09\u4e2a\u5c5e\u6027\u7684\u540d\u547d\u53ef\u80fd\u4f1a\u6709\u5dee\u522b"),(0,o.kt)("p",null,"\u521b\u5efa\u865a\u62df",(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\u5c31\u662f\u4e3a\u4e86\u66f4\u597d\u5c06\u865a\u62df\u7684\u8282\u70b9\u6e32\u67d3\u5230\u9875\u9762\u89c6\u56fe\u4e2d\uff0c\u6240\u4ee5\u865a\u62df",(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\u5bf9\u8c61\u7684\u8282\u70b9\u4e0e\u771f\u5b9e",(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\u7684\u5c5e\u6027\u4e00\u4e00\u7167\u5e94"),(0,o.kt)("p",null,"\u5728",(0,o.kt)("inlineCode",{parentName:"p"},"vue"),"\u4e2d\u540c\u6837\u4f7f\u7528\u5230\u4e86\u865a\u62df",(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\u6280\u672f"),(0,o.kt)("p",null,"\u5b9a\u4e49\u771f\u5b9e",(0,o.kt)("inlineCode",{parentName:"p"},"DOM")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<div id="app">\n    <p class="p">\u8282\u70b9\u5185\u5bb9</p>\n    <h3>{{ foo }}</h3>\n</div>\n')),(0,o.kt)("p",null,"\u5b9e\u4f8b\u5316",(0,o.kt)("inlineCode",{parentName:"p"},"vue")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'const app = new Vue({\n    el:"#app",\n    data:{\n        foo:"foo"\n    }\n})\n')),(0,o.kt)("p",null,"\u89c2\u5bdf",(0,o.kt)("inlineCode",{parentName:"p"},"render"),"\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"render"),"\uff0c\u6211\u4eec\u80fd\u5f97\u5230\u865a\u62df",(0,o.kt)("inlineCode",{parentName:"p"},"DOM")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'(function anonymous(\n) {\n    with(this){return _c(\'div\',{attrs:{"id":"app"}},[_c(\'p\',{staticClass:"p"},\n                      [_v("\u8282\u70b9\u5185\u5bb9")]),_v(" "),_c(\'h3\',[_v(_s(foo))])])}})\n')),(0,o.kt)("p",null,"\u901a\u8fc7",(0,o.kt)("inlineCode",{parentName:"p"},"VNode"),"\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"vue"),"\u53ef\u4ee5\u5bf9\u8fd9\u9897\u62bd\u8c61\u6811\u8fdb\u884c\u521b\u5efa\u8282\u70b9,\u5220\u9664\u8282\u70b9\u4ee5\u53ca\u4fee\u6539\u8282\u70b9\u7684\u64cd\u4f5c\uff0c \u7ecf\u8fc7",(0,o.kt)("inlineCode",{parentName:"p"},"diff"),"\u7b97\u6cd5\u5f97\u51fa\u4e00\u4e9b\u9700\u8981\u4fee\u6539\u7684\u6700\u5c0f\u5355\u4f4d,\u518d\u66f4\u65b0\u89c6\u56fe\uff0c\u51cf\u5c11\u4e86",(0,o.kt)("inlineCode",{parentName:"p"},"dom"),"\u64cd\u4f5c\uff0c\u63d0\u9ad8\u4e86\u6027\u80fd"),(0,o.kt)("h2",{id:"\u4e8c\u4e3a\u4ec0\u4e48\u9700\u8981\u865a\u62dfdom"},"\u4e8c\u3001\u4e3a\u4ec0\u4e48\u9700\u8981\u865a\u62dfDOM"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\u662f\u5f88\u6162\u7684\uff0c\u5176\u5143\u7d20\u975e\u5e38\u5e9e\u5927\uff0c\u9875\u9762\u7684\u6027\u80fd\u95ee\u9898\uff0c\u5927\u90e8\u5206\u90fd\u662f\u7531",(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\u64cd\u4f5c\u5f15\u8d77\u7684"),(0,o.kt)("p",null,"\u771f\u5b9e\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\u8282\u70b9\uff0c\u54ea\u6015\u4e00\u4e2a\u6700\u7b80\u5355\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"div"),"\u4e5f\u5305\u542b\u7740\u5f88\u591a\u5c5e\u6027\uff0c\u53ef\u4ee5\u6253\u5370\u51fa\u6765\u76f4\u89c2\u611f\u53d7\u4e00\u4e0b\uff1a\n",(0,o.kt)("img",{parentName:"p",src:"https://static.vue-js.com/cc95c7f0-442c-11eb-ab90-d9ae814b240d.png",alt:null})),(0,o.kt)("p",null,"\u7531\u6b64\u53ef\u89c1\uff0c\u64cd\u4f5c",(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\u7684\u4ee3\u4ef7\u4ecd\u65e7\u662f\u6602\u8d35\u7684\uff0c\u9891\u7e41\u64cd\u4f5c\u8fd8\u662f\u4f1a\u51fa\u73b0\u9875\u9762\u5361\u987f\uff0c\u5f71\u54cd\u7528\u6237\u7684\u4f53\u9a8c"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u4e3e\u4e2a\u4f8b\u5b50\uff1a")),(0,o.kt)("p",null,"\u4f60\u7528\u4f20\u7edf\u7684\u539f\u751f",(0,o.kt)("inlineCode",{parentName:"p"},"api"),"\u6216",(0,o.kt)("inlineCode",{parentName:"p"},"jQuery"),"\u53bb\u64cd\u4f5c",(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u4ece\u6784\u5efa",(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\u6811\u5f00\u59cb\u4ece\u5934\u5230\u5c3e\u6267\u884c\u4e00\u904d\u6d41\u7a0b"),(0,o.kt)("p",null,"\u5f53\u4f60\u5728\u4e00\u6b21\u64cd\u4f5c\u65f6\uff0c\u9700\u8981\u66f4\u65b010\u4e2a",(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\u8282\u70b9\uff0c\u6d4f\u89c8\u5668\u6ca1\u8fd9\u4e48\u667a\u80fd\uff0c\u6536\u5230\u7b2c\u4e00\u4e2a\u66f4\u65b0",(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\u8bf7\u6c42\u540e\uff0c\u5e76\u4e0d\u77e5\u9053\u540e\u7eed\u8fd8\u67099\u6b21\u66f4\u65b0\u64cd\u4f5c\uff0c\u56e0\u6b64\u4f1a\u9a6c\u4e0a\u6267\u884c\u6d41\u7a0b\uff0c\u6700\u7ec8\u6267\u884c10\u6b21\u6d41\u7a0b"),(0,o.kt)("p",null,"\u800c\u901a\u8fc7",(0,o.kt)("inlineCode",{parentName:"p"},"VNode"),"\uff0c\u540c\u6837\u66f4\u65b010\u4e2a",(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\u8282\u70b9\uff0c\u865a\u62df",(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\u4e0d\u4f1a\u7acb\u5373\u64cd\u4f5c",(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\uff0c\u800c\u662f\u5c06\u8fd910\u6b21\u66f4\u65b0\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"diff"),"\u5185\u5bb9\u4fdd\u5b58\u5230\u672c\u5730\u7684\u4e00\u4e2a",(0,o.kt)("inlineCode",{parentName:"p"},"js"),"\u5bf9\u8c61\u4e2d\uff0c\u6700\u7ec8\u5c06\u8fd9\u4e2a",(0,o.kt)("inlineCode",{parentName:"p"},"js"),"\u5bf9\u8c61\u4e00\u6b21\u6027",(0,o.kt)("inlineCode",{parentName:"p"},"attach"),"\u5230",(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\u6811\u4e0a\uff0c\u907f\u514d\u5927\u91cf\u7684\u65e0\u8c13\u8ba1\u7b97"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\u5f88\u591a\u4eba\u8ba4\u4e3a\u865a\u62df DOM \u6700\u5927\u7684\u4f18\u52bf\u662f diff \u7b97\u6cd5\uff0c\u51cf\u5c11 JavaScript \u64cd\u4f5c\u771f\u5b9e DOM \u7684\u5e26\u6765\u7684\u6027\u80fd\u6d88\u8017\u3002\u867d\u7136\u8fd9\u4e00\u4e2a\u865a\u62df DOM \u5e26\u6765\u7684\u4e00\u4e2a\u4f18\u52bf\uff0c\u4f46\u5e76\u4e0d\u662f\u5168\u90e8\u3002\u865a\u62df DOM \u6700\u5927\u7684\u4f18\u52bf\u5728\u4e8e\u62bd\u8c61\u4e86\u539f\u672c\u7684\u6e32\u67d3\u8fc7\u7a0b\uff0c\u5b9e\u73b0\u4e86\u8de8\u5e73\u53f0\u7684\u80fd\u529b\uff0c\u800c\u4e0d\u4ec5\u4ec5\u5c40\u9650\u4e8e\u6d4f\u89c8\u5668\u7684 DOM\uff0c\u53ef\u4ee5\u662f\u5b89\u5353\u548c IOS \u7684\u539f\u751f\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u662f\u8fd1\u671f\u5f88\u706b\u70ed\u7684\u5c0f\u7a0b\u5e8f\uff0c\u4e5f\u53ef\u4ee5\u662f\u5404\u79cdGUI")),(0,o.kt)("h2",{id:"\u4e09\u5982\u4f55\u5b9e\u73b0\u865a\u62dfdom"},"\u4e09\u3001\u5982\u4f55\u5b9e\u73b0\u865a\u62dfDOM"),(0,o.kt)("p",null,"\u9996\u5148\u53ef\u4ee5\u770b\u770b",(0,o.kt)("inlineCode",{parentName:"p"},"vue"),"\u4e2d",(0,o.kt)("inlineCode",{parentName:"p"},"VNode"),"\u7684\u7ed3\u6784"),(0,o.kt)("p",null,"\u6e90\u7801\u4f4d\u7f6e\uff1asrc/core/vdom/vnode.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"export default class VNode {\n  tag: string | void;\n  data: VNodeData | void;\n  children: ?Array<VNode>;\n  text: string | void;\n  elm: Node | void;\n  ns: string | void;\n  context: Component | void; // rendered in this component's scope\n  functionalContext: Component | void; // only for functional component root nodes\n  key: string | number | void;\n  componentOptions: VNodeComponentOptions | void;\n  componentInstance: Component | void; // component instance\n  parent: VNode | void; // component placeholder node\n  raw: boolean; // contains raw HTML? (server only)\n  isStatic: boolean; // hoisted static node\n  isRootInsert: boolean; // necessary for enter transition check\n  isComment: boolean; // empty comment placeholder?\n  isCloned: boolean; // is a cloned node?\n  isOnce: boolean; // is a v-once node?\n\n  constructor (\n    tag?: string,\n    data?: VNodeData,\n    children?: ?Array<VNode>,\n    text?: string,\n    elm?: Node,\n    context?: Component,\n    componentOptions?: VNodeComponentOptions\n  ) {\n    /*\u5f53\u524d\u8282\u70b9\u7684\u6807\u7b7e\u540d*/\n    this.tag = tag\n    /*\u5f53\u524d\u8282\u70b9\u5bf9\u5e94\u7684\u5bf9\u8c61\uff0c\u5305\u542b\u4e86\u5177\u4f53\u7684\u4e00\u4e9b\u6570\u636e\u4fe1\u606f\uff0c\u662f\u4e00\u4e2aVNodeData\u7c7b\u578b\uff0c\u53ef\u4ee5\u53c2\u8003VNodeData\u7c7b\u578b\u4e2d\u7684\u6570\u636e\u4fe1\u606f*/\n    this.data = data\n    /*\u5f53\u524d\u8282\u70b9\u7684\u5b50\u8282\u70b9\uff0c\u662f\u4e00\u4e2a\u6570\u7ec4*/\n    this.children = children\n    /*\u5f53\u524d\u8282\u70b9\u7684\u6587\u672c*/\n    this.text = text\n    /*\u5f53\u524d\u865a\u62df\u8282\u70b9\u5bf9\u5e94\u7684\u771f\u5b9edom\u8282\u70b9*/\n    this.elm = elm\n    /*\u5f53\u524d\u8282\u70b9\u7684\u540d\u5b57\u7a7a\u95f4*/\n    this.ns = undefined\n    /*\u7f16\u8bd1\u4f5c\u7528\u57df*/\n    this.context = context\n    /*\u51fd\u6570\u5316\u7ec4\u4ef6\u4f5c\u7528\u57df*/\n    this.functionalContext = undefined\n    /*\u8282\u70b9\u7684key\u5c5e\u6027\uff0c\u88ab\u5f53\u4f5c\u8282\u70b9\u7684\u6807\u5fd7\uff0c\u7528\u4ee5\u4f18\u5316*/\n    this.key = data && data.key\n    /*\u7ec4\u4ef6\u7684option\u9009\u9879*/\n    this.componentOptions = componentOptions\n    /*\u5f53\u524d\u8282\u70b9\u5bf9\u5e94\u7684\u7ec4\u4ef6\u7684\u5b9e\u4f8b*/\n    this.componentInstance = undefined\n    /*\u5f53\u524d\u8282\u70b9\u7684\u7236\u8282\u70b9*/\n    this.parent = undefined\n    /*\u7b80\u800c\u8a00\u4e4b\u5c31\u662f\u662f\u5426\u4e3a\u539f\u751fHTML\u6216\u53ea\u662f\u666e\u901a\u6587\u672c\uff0cinnerHTML\u7684\u65f6\u5019\u4e3atrue\uff0ctextContent\u7684\u65f6\u5019\u4e3afalse*/\n    this.raw = false\n    /*\u9759\u6001\u8282\u70b9\u6807\u5fd7*/\n    this.isStatic = false\n    /*\u662f\u5426\u4f5c\u4e3a\u8ddf\u8282\u70b9\u63d2\u5165*/\n    this.isRootInsert = true\n    /*\u662f\u5426\u4e3a\u6ce8\u91ca\u8282\u70b9*/\n    this.isComment = false\n    /*\u662f\u5426\u4e3a\u514b\u9686\u8282\u70b9*/\n    this.isCloned = false\n    /*\u662f\u5426\u6709v-once\u6307\u4ee4*/\n    this.isOnce = false\n  }\n\n  // DEPRECATED: alias for componentInstance for backwards compat.\n  /* istanbul ignore next https://github.com/answershuto/learnVue*/\n  get child (): Component | void {\n    return this.componentInstance\n  }\n}\n")),(0,o.kt)("p",null,"\u8fd9\u91cc\u5bf9",(0,o.kt)("inlineCode",{parentName:"p"},"VNode"),"\u8fdb\u884c\u7a0d\u5fae\u7684\u8bf4\u660e\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u6240\u6709\u5bf9\u8c61\u7684 ",(0,o.kt)("inlineCode",{parentName:"li"},"context")," \u9009\u9879\u90fd\u6307\u5411\u4e86 ",(0,o.kt)("inlineCode",{parentName:"li"},"Vue")," \u5b9e\u4f8b"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"elm")," \u5c5e\u6027\u5219\u6307\u5411\u4e86\u5176\u76f8\u5bf9\u5e94\u7684\u771f\u5b9e ",(0,o.kt)("inlineCode",{parentName:"li"},"DOM")," \u8282\u70b9")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"vue"),"\u662f\u901a\u8fc7",(0,o.kt)("inlineCode",{parentName:"p"},"createElement"),"\u751f\u6210",(0,o.kt)("inlineCode",{parentName:"p"},"VNode")),(0,o.kt)("p",null,"\u6e90\u7801\u4f4d\u7f6e\uff1asrc/core/vdom/create-element.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"export function createElement (\n  context: Component,\n  tag: any,\n  data: any,\n  children: any,\n  normalizationType: any,\n  alwaysNormalize: boolean\n): VNode | Array<VNode> {\n  if (Array.isArray(data) || isPrimitive(data)) {\n    normalizationType = children\n    children = data\n    data = undefined\n  }\n  if (isTrue(alwaysNormalize)) {\n    normalizationType = ALWAYS_NORMALIZE\n  }\n  return _createElement(context, tag, data, children, normalizationType)\n}\n")),(0,o.kt)("p",null,"\u4e0a\u9762\u53ef\u4ee5\u770b\u5230",(0,o.kt)("inlineCode",{parentName:"p"},"createElement")," \u65b9\u6cd5\u5b9e\u9645\u4e0a\u662f\u5bf9 ",(0,o.kt)("inlineCode",{parentName:"p"},"_createElement")," \u65b9\u6cd5\u7684\u5c01\u88c5\uff0c\u5bf9\u53c2\u6570\u7684\u4f20\u5165\u8fdb\u884c\u4e86\u5224\u65ad"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"export function _createElement(\n    context: Component,\n    tag?: string | Class<Component> | Function | Object,\n    data?: VNodeData,\n    children?: any,\n    normalizationType?: number\n): VNode | Array<VNode> {\n    if (isDef(data) && isDef((data: any).__ob__)) {\n        process.env.NODE_ENV !== 'production' && warn(\n            `Avoid using observed data object as vnode data: ${JSON.stringify(data)}\\n` +\n            'Always create fresh vnode data objects in each render!',\n            context`\n        )\n        return createEmptyVNode()\n    }\n    // object syntax in v-bind\n    if (isDef(data) && isDef(data.is)) {\n        tag = data.is\n    }\n    if (!tag) {\n        // in case of component :is set to falsy value\n        return createEmptyVNode()\n    }\n    ... \n    // support single function children as default scoped slot\n    if (Array.isArray(children) &&\n        typeof children[0] === 'function'\n    ) {\n        data = data || {}\n        data.scopedSlots = { default: children[0] }\n        children.length = 0\n    }\n    if (normalizationType === ALWAYS_NORMALIZE) {\n        children = normalizeChildren(children)\n    } else if ( === SIMPLE_NORMALIZE) {\n        children = simpleNormalizeChildren(children)\n    }\n    // \u521b\u5efaVNode\n    ...\n}\n")),(0,o.kt)("p",null,"\u53ef\u4ee5\u770b\u5230",(0,o.kt)("inlineCode",{parentName:"p"},"_createElement"),"\u63a5\u65365\u4e2a\u53c2\u6570\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"context")," \u8868\u793a ",(0,o.kt)("inlineCode",{parentName:"p"},"VNode")," \u7684\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u662f ",(0,o.kt)("inlineCode",{parentName:"p"},"Component")," \u7c7b\u578b")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"tag \u8868\u793a\u6807\u7b7e\uff0c\u5b83\u53ef\u4ee5\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a ",(0,o.kt)("inlineCode",{parentName:"p"},"Component"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"data")," \u8868\u793a ",(0,o.kt)("inlineCode",{parentName:"p"},"VNode")," \u7684\u6570\u636e\uff0c\u5b83\u662f\u4e00\u4e2a ",(0,o.kt)("inlineCode",{parentName:"p"},"VNodeData")," \u7c7b\u578b")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"children")," \u8868\u793a\u5f53\u524d ",(0,o.kt)("inlineCode",{parentName:"p"},"VNode "),"\u7684\u5b50\u8282\u70b9\uff0c\u5b83\u662f\u4efb\u610f\u7c7b\u578b\u7684")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"normalizationType")," \u8868\u793a\u5b50\u8282\u70b9\u89c4\u8303\u7684\u7c7b\u578b\uff0c\u7c7b\u578b\u4e0d\u540c\u89c4\u8303\u7684\u65b9\u6cd5\u4e5f\u5c31\u4e0d\u4e00\u6837\uff0c\u4e3b\u8981\u662f\u53c2\u8003 ",(0,o.kt)("inlineCode",{parentName:"p"},"render")," \u51fd\u6570\u662f\u7f16\u8bd1\u751f\u6210\u7684\u8fd8\u662f\u7528\u6237\u624b\u5199\u7684"))),(0,o.kt)("p",null,"\u6839\u636e",(0,o.kt)("inlineCode",{parentName:"p"},"normalizationType")," \u7684\u7c7b\u578b\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"children"),"\u4f1a\u6709\u4e0d\u540c\u7684\u5b9a\u4e49"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"if (normalizationType === ALWAYS_NORMALIZE) {\n    children = normalizeChildren(children)\n} else if ( === SIMPLE_NORMALIZE) {\n    children = simpleNormalizeChildren(children)\n}\n")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"simpleNormalizeChildren"),"\u65b9\u6cd5\u8c03\u7528\u573a\u666f\u662f ",(0,o.kt)("inlineCode",{parentName:"p"},"render")," \u51fd\u6570\u662f\u7f16\u8bd1\u751f\u6210\u7684"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"normalizeChildren"),"\u65b9\u6cd5\u8c03\u7528\u573a\u666f\u5206\u4e3a\u4e0b\u9762\u4e24\u79cd\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"render")," \u51fd\u6570\u662f\u7528\u6237\u624b\u5199\u7684"),(0,o.kt)("li",{parentName:"ul"},"\u7f16\u8bd1 ",(0,o.kt)("inlineCode",{parentName:"li"},"slot"),"\u3001",(0,o.kt)("inlineCode",{parentName:"li"},"v-for")," \u7684\u65f6\u5019\u4f1a\u4ea7\u751f\u5d4c\u5957\u6570\u7ec4")),(0,o.kt)("p",null,"\u65e0\u8bba\u662f",(0,o.kt)("inlineCode",{parentName:"p"},"simpleNormalizeChildren"),"\u8fd8\u662f",(0,o.kt)("inlineCode",{parentName:"p"},"normalizeChildren"),"\u90fd\u662f\u5bf9",(0,o.kt)("inlineCode",{parentName:"p"},"children"),"\u8fdb\u884c\u89c4\u8303\uff08\u4f7f",(0,o.kt)("inlineCode",{parentName:"p"},"children")," \u53d8\u6210\u4e86\u4e00\u4e2a\u7c7b\u578b\u4e3a ",(0,o.kt)("inlineCode",{parentName:"p"},"VNode")," \u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},"Array"),"\uff09\uff0c\u8fd9\u91cc\u5c31\u4e0d\u5c55\u5f00\u8bf4\u4e86"),(0,o.kt)("p",null,"\u89c4\u8303\u5316",(0,o.kt)("inlineCode",{parentName:"p"},"children"),"\u7684\u6e90\u7801\u4f4d\u7f6e\u5728\uff1asrc/core/vdom/helpers/normalzie-children.js"),(0,o.kt)("p",null,"\u5728\u89c4\u8303\u5316",(0,o.kt)("inlineCode",{parentName:"p"},"children"),"\u540e\uff0c\u5c31\u53bb\u521b\u5efa",(0,o.kt)("inlineCode",{parentName:"p"},"VNode")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"let vnode, ns\n// \u5bf9tag\u8fdb\u884c\u5224\u65ad\nif (typeof tag === 'string') {\n  let Ctor\n  ns = (context.$vnode && context.$vnode.ns) || config.getTagNamespace(tag)\n  if (config.isReservedTag(tag)) {\n    // \u5982\u679c\u662f\u5185\u7f6e\u7684\u8282\u70b9\uff0c\u5219\u76f4\u63a5\u521b\u5efa\u4e00\u4e2a\u666e\u901aVNode\n    vnode = new VNode(\n      config.parsePlatformTagName(tag), data, children,\n      undefined, undefined, context\n    )\n  } else if (isDef(Ctor = resolveAsset(context.$options, 'components', tag))) {\n    // component\n    // \u5982\u679c\u662fcomponent\u7c7b\u578b\uff0c\u5219\u4f1a\u901a\u8fc7createComponent\u521b\u5efaVNode\u8282\u70b9\n    vnode = createComponent(Ctor, data, context, children, tag)\n  } else {\n    vnode = new VNode(\n      tag, data, children,\n      undefined, undefined, context\n    )\n  }\n} else {\n  // direct component options / constructor\n  vnode = createComponent(tag, data, context, children)\n}\n")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"createComponent"),"\u540c\u6837\u662f\u521b\u5efa",(0,o.kt)("inlineCode",{parentName:"p"},"VNode")),(0,o.kt)("p",null,"\u6e90\u7801\u4f4d\u7f6e\uff1asrc/core/vdom/create-component.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"export function createComponent (\n  Ctor: Class<Component> | Function | Object | void,\n  data: ?VNodeData,\n  context: Component,\n  children: ?Array<VNode>,\n  tag?: string\n): VNode | Array<VNode> | void {\n  if (isUndef(Ctor)) {\n    return\n  }\n // \u6784\u5efa\u5b50\u7c7b\u6784\u9020\u51fd\u6570 \n  const baseCtor = context.$options._base\n\n  // plain options object: turn it into a constructor\n  if (isObject(Ctor)) {\n    Ctor = baseCtor.extend(Ctor)\n  }\n\n  // if at this stage it's not a constructor or an async component factory,\n  // reject.\n  if (typeof Ctor !== 'function') {\n    if (process.env.NODE_ENV !== 'production') {\n      warn(`Invalid Component definition: ${String(Ctor)}`, context)\n    }\n    return\n  }\n\n  // async component\n  let asyncFactory\n  if (isUndef(Ctor.cid)) {\n    asyncFactory = Ctor\n    Ctor = resolveAsyncComponent(asyncFactory, baseCtor, context)\n    if (Ctor === undefined) {\n      return createAsyncPlaceholder(\n        asyncFactory,\n        data,\n        context,\n        children,\n        tag\n      )\n    }\n  }\n\n  data = data || {}\n\n  // resolve constructor options in case global mixins are applied after\n  // component constructor creation\n  resolveConstructorOptions(Ctor)\n\n  // transform component v-model data into props & events\n  if (isDef(data.model)) {\n    transformModel(Ctor.options, data)\n  }\n\n  // extract props\n  const propsData = extractPropsFromVNodeData(data, Ctor, tag)\n\n  // functional component\n  if (isTrue(Ctor.options.functional)) {\n    return createFunctionalComponent(Ctor, propsData, data, context, children)\n  }\n\n  // extract listeners, since these needs to be treated as\n  // child component listeners instead of DOM listeners\n  const listeners = data.on\n  // replace with listeners with .native modifier\n  // so it gets processed during parent component patch.\n  data.on = data.nativeOn\n\n  if (isTrue(Ctor.options.abstract)) {\n    const slot = data.slot\n    data = {}\n    if (slot) {\n      data.slot = slot\n    }\n  }\n\n  // \u5b89\u88c5\u7ec4\u4ef6\u94a9\u5b50\u51fd\u6570\uff0c\u628a\u94a9\u5b50\u51fd\u6570\u5408\u5e76\u5230data.hook\u4e2d\n  installComponentHooks(data)\n\n  //\u5b9e\u4f8b\u5316\u4e00\u4e2aVNode\u8fd4\u56de\u3002\u7ec4\u4ef6\u7684VNode\u662f\u6ca1\u6709children\u7684\n  const name = Ctor.options.name || tag\n  const vnode = new VNode(\n    `vue-component-${Ctor.cid}${name ? `-${name}` : ''}`,\n    data, undefined, undefined, undefined, context,\n    { Ctor, propsData, listeners, tag, children },\n    asyncFactory\n  )\n  if (__WEEX__ && isRecyclableComponent(vnode)) {\n    return renderRecyclableComponentTemplate(vnode)\n  }\n\n  return vnode\n}\n")),(0,o.kt)("p",null,"\u7a0d\u5fae\u63d0\u4e0b",(0,o.kt)("inlineCode",{parentName:"p"},"createComponent"),"\u751f\u6210",(0,o.kt)("inlineCode",{parentName:"p"},"VNode"),"\u7684\u4e09\u4e2a\u5173\u952e\u6d41\u7a0b\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u6784\u9020\u5b50\u7c7b\u6784\u9020\u51fd\u6570",(0,o.kt)("inlineCode",{parentName:"li"},"Ctor ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"installComponentHooks"),"\u5b89\u88c5\u7ec4\u4ef6\u94a9\u5b50\u51fd\u6570"),(0,o.kt)("li",{parentName:"ul"},"\u5b9e\u4f8b\u5316 ",(0,o.kt)("inlineCode",{parentName:"li"},"vnode"))),(0,o.kt)("h3",{id:"\u5c0f\u7ed3"},"\u5c0f\u7ed3"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"createElement")," \u521b\u5efa ",(0,o.kt)("inlineCode",{parentName:"p"},"VNode")," \u7684\u8fc7\u7a0b\uff0c\u6bcf\u4e2a ",(0,o.kt)("inlineCode",{parentName:"p"},"VNode")," \u6709 ",(0,o.kt)("inlineCode",{parentName:"p"},"children"),"\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"children")," \u6bcf\u4e2a\u5143\u7d20\u4e5f\u662f\u4e00\u4e2a",(0,o.kt)("inlineCode",{parentName:"p"},"VNode"),"\uff0c\u8fd9\u6837\u5c31\u5f62\u6210\u4e86\u4e00\u4e2a\u865a\u62df\u6811\u7ed3\u6784\uff0c\u7528\u4e8e\u63cf\u8ff0\u771f\u5b9e\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"DOM"),"\u6811\u7ed3\u6784"),(0,o.kt)("h2",{id:"\u53c2\u8003\u6587\u732e"},"\u53c2\u8003\u6587\u732e"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://ustbhuangyi.github.io/vue-analysis/v2/data-driven/create-element.html#children-%E7%9A%84%E8%A7%84%E8%8C%83%E5%8C%96"},"https://ustbhuangyi.github.io/vue-analysis/v2/data-driven/create-element.html#children-%E7%9A%84%E8%A7%84%E8%8C%83%E5%8C%96")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://juejin.cn/post/6876711874050818061"},"https://juejin.cn/post/6876711874050818061"))))}m.isMDXComponent=!0}}]);