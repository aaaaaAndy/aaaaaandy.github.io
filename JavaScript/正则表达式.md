ğŸ·: #æ­£åˆ™è¡¨è¾¾å¼

## ä¸€ã€æ˜¯ä»€ä¹ˆ

æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§ç”¨æ¥åŒ¹é…å­—ç¬¦ä¸²çš„å¼ºæœ‰åŠ›çš„æ­¦å™¨

å®ƒçš„è®¾è®¡æ€æƒ³æ˜¯ç”¨ä¸€ç§æè¿°æ€§çš„è¯­è¨€å®šä¹‰ä¸€ä¸ªè§„åˆ™ï¼Œå‡¡æ˜¯ç¬¦åˆè§„åˆ™çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºå®ƒâ€œåŒ¹é…â€äº†ï¼Œå¦åˆ™ï¼Œè¯¥å­—ç¬¦ä¸²å°±æ˜¯ä¸åˆæ³•çš„

åœ¨ `JavaScript`ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ„å»ºæ­£åˆ™è¡¨è¾¾å¼æœ‰ä¸¤ç§æ–¹å¼ï¼š

1. å­—é¢é‡åˆ›å»ºï¼Œå…¶ç”±åŒ…å«åœ¨æ–œæ ä¹‹é—´çš„æ¨¡å¼ç»„æˆ

```javascript
const re = /\d+/g;
```

2. è°ƒç”¨`RegExp`å¯¹è±¡çš„æ„é€ å‡½æ•°

```javascript
const re = new RegExp("\\d+","g");

const rul = "\\d+"
const re1 = new RegExp(rul,"g");
```

ä½¿ç”¨æ„å»ºå‡½æ•°åˆ›å»ºï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå˜é‡ï¼Œé‡åˆ°ç‰¹æ®Šå­—ç¬¦`\`éœ€è¦ä½¿ç”¨`\\`è¿›è¡Œè½¬ä¹‰

## äºŒã€åŒ¹é…è§„åˆ™

å¸¸è§çš„æ ¡éªŒè§„åˆ™å¦‚ä¸‹ï¼š

| è§„åˆ™        | æè¿°                                                  |
| ----------------- | ----------------------------------------------------- |
| \           | è½¬ä¹‰                                                  |
| ^           | åŒ¹é…è¾“å…¥çš„å¼€å§‹                                        |
| $           | åŒ¹é…è¾“å…¥çš„ç»“æŸ                                        |
| *           | åŒ¹é…å‰ä¸€ä¸ªè¡¨è¾¾å¼ 0 æ¬¡æˆ–å¤šæ¬¡                           |
| +           | åŒ¹é…å‰é¢ä¸€ä¸ªè¡¨è¾¾å¼ 1 æ¬¡æˆ–è€…å¤šæ¬¡ã€‚ç­‰ä»·äº `{1,}`        |
| ?           | åŒ¹é…å‰é¢ä¸€ä¸ªè¡¨è¾¾å¼ 0 æ¬¡æˆ–è€… 1 æ¬¡ã€‚ç­‰ä»·äº`{0,1}`       |
| .           | é»˜è®¤åŒ¹é…é™¤æ¢è¡Œç¬¦ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦                    |
| x(?=y)      | åŒ¹é…'x'ä»…ä»…å½“'x'åé¢è·Ÿç€'y'ã€‚è¿™ç§å«åšå…ˆè¡Œæ–­è¨€         |
| (?<=y)x     | åŒ¹é…'x'ä»…å½“'x'å‰é¢æ˜¯'y'.è¿™ç§å«åšåè¡Œæ–­è¨€              |
| x(?!y)      | ä»…ä»…å½“'x'åé¢ä¸è·Ÿç€'y'æ—¶åŒ¹é…'x'ï¼Œè¿™è¢«ç§°ä¸ºæ­£å‘å¦å®šæŸ¥æ‰¾ |
| (?<!*y*)*x* | ä»…ä»…å½“'x'å‰é¢ä¸æ˜¯'y'æ—¶åŒ¹é…'x'ï¼Œè¿™è¢«ç§°ä¸ºåå‘å¦å®šæŸ¥æ‰¾   |
| x\|y        | åŒ¹é…â€˜xâ€™æˆ–è€…â€˜yâ€™                                        |
| {n}         | n æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼ŒåŒ¹é…äº†å‰é¢ä¸€ä¸ªå­—ç¬¦åˆšå¥½å‡ºç°äº† n æ¬¡     |
| {n,}        | næ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼ŒåŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦è‡³å°‘å‡ºç°äº†næ¬¡            |
| {n,m}       | n å’Œ m éƒ½æ˜¯æ•´æ•°ã€‚åŒ¹é…å‰é¢çš„å­—ç¬¦è‡³å°‘næ¬¡ï¼Œæœ€å¤šmæ¬¡       |
| \[xyz\]      | ä¸€ä¸ªå­—ç¬¦é›†åˆã€‚åŒ¹é…æ–¹æ‹¬å·ä¸­çš„ä»»æ„å­—ç¬¦                  |
| [^xyz\]     | åŒ¹é…ä»»ä½•æ²¡æœ‰åŒ…å«åœ¨æ–¹æ‹¬å·ä¸­çš„å­—ç¬¦                      |
| \b          | åŒ¹é…ä¸€ä¸ªè¯çš„è¾¹ç•Œï¼Œä¾‹å¦‚åœ¨å­—æ¯å’Œç©ºæ ¼ä¹‹é—´                |
| \B          | åŒ¹é…ä¸€ä¸ªéå•è¯è¾¹ç•Œ                                    |
| \d          | åŒ¹é…ä¸€ä¸ªæ•°å­—                                          |
| \D          | åŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦                                    |
| \f          | åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦                                        |
| \n          | åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦                                        |
| \r          | åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦                                        |
| \s          | åŒ¹é…ä¸€ä¸ªç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦å’Œæ¢è¡Œç¬¦    |
| \S          | åŒ¹é…ä¸€ä¸ªéç©ºç™½å­—ç¬¦                                    |
| \w          | åŒ¹é…ä¸€ä¸ªå•å­—å­—ç¬¦ï¼ˆå­—æ¯ã€æ•°å­—æˆ–è€…ä¸‹åˆ’çº¿ï¼‰              |
| \W          | åŒ¹é…ä¸€ä¸ªéå•å­—å­—ç¬¦                                    |

### æ­£åˆ™è¡¨è¾¾å¼æ ‡è®°

| æ ‡å¿— | æè¿°                                                      |
| :--- | :-------------------------------------------------------- |
| `g`  | å…¨å±€æœç´¢ã€‚                                                |
| `i`  | ä¸åŒºåˆ†å¤§å°å†™æœç´¢ã€‚                                        |
| `m`  | å¤šè¡Œæœç´¢ã€‚                                                |
| `s`  | å…è®¸ `.` åŒ¹é…æ¢è¡Œç¬¦ã€‚                                     |
| `u`  | ä½¿ç”¨`unicode`ç çš„æ¨¡å¼è¿›è¡ŒåŒ¹é…ã€‚                           |
| `y`  | æ‰§è¡Œâ€œç²˜æ€§(`sticky`)â€æœç´¢,åŒ¹é…ä»ç›®æ ‡å­—ç¬¦ä¸²çš„å½“å‰ä½ç½®å¼€å§‹ã€‚ |

ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š

```javascript
var re = /pattern/flags;
var re = new RegExp("pattern", "flags");
```

åœ¨äº†è§£ä¸‹æ­£åˆ™è¡¨è¾¾å¼åŸºæœ¬çš„ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æŒæ¡å‡ ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„ç‰¹æ€§ï¼š

### è´ªå©ªæ¨¡å¼

åœ¨äº†è§£è´ªå©ªæ¨¡å¼å‰ï¼Œé¦–å…ˆä¸¾ä¸ªä¾‹å­ï¼š

```javascript
const reg = /ab{1,3}c/
```

åœ¨åŒ¹é…è¿‡ç¨‹ä¸­ï¼Œå°è¯•å¯èƒ½çš„é¡ºåºæ˜¯ä»å¤šå¾€å°‘çš„æ–¹å‘å»å°è¯•ã€‚é¦–å…ˆä¼šå°è¯•`bbb`ï¼Œç„¶åå†çœ‹æ•´ä¸ªæ­£åˆ™æ˜¯å¦èƒ½åŒ¹é…ã€‚ä¸èƒ½åŒ¹é…æ—¶ï¼Œåå‡ºä¸€ä¸ª`b`ï¼Œå³åœ¨`bb`çš„åŸºç¡€ä¸Šï¼Œå†ç»§ç»­å°è¯•ï¼Œä»¥æ­¤é‡å¤

å¦‚æœå¤šä¸ªè´ªå©ªé‡è¯æŒ¨ç€ï¼Œåˆ™æ·±åº¦ä¼˜å…ˆæœç´¢

```javascript
const string = "12345";
const regx = /(\d{1,3})(\d{1,3})/;
console.log( string.match(reg) );
// => ["12345", "123", "45", index: 0, input: "12345"]
```

å…¶ä¸­ï¼Œå‰é¢çš„`\d{1,3}`åŒ¹é…çš„æ˜¯"123"ï¼Œåé¢çš„`\d{1,3}`åŒ¹é…çš„æ˜¯"45"

### æ‡’æƒ°æ¨¡å¼

æƒ°æ€§é‡è¯å°±æ˜¯åœ¨è´ªå©ªé‡è¯åé¢åŠ ä¸ªé—®å·ã€‚è¡¨ç¤ºå°½å¯èƒ½å°‘çš„åŒ¹é…

```javascript
var string = "12345";
var regex = /(\d{1,3}?)(\d{1,3})/;
console.log( string.match(regex) );
// => ["1234", "1", "234", index: 0, input: "12345"]
```

å…¶ä¸­`\d{1,3}?`åªåŒ¹é…åˆ°ä¸€ä¸ªå­—ç¬¦"1"ï¼Œè€Œåé¢çš„`\d{1,3}`åŒ¹é…äº†"234"

### åˆ†ç»„

åˆ†ç»„ä¸»è¦æ˜¯ç”¨è¿‡`()`è¿›è¡Œå®ç°ï¼Œæ¯”å¦‚`beyond{3}`ï¼Œæ˜¯åŒ¹é…`d`å­—æ¯3æ¬¡ã€‚è€Œ`(beyond){3}`æ˜¯åŒ¹é…`beyond`ä¸‰æ¬¡

åœ¨`()`å†…ä½¿ç”¨`|`è¾¾åˆ°æˆ–çš„æ•ˆæœï¼Œå¦‚`(abc | xxx)`å¯ä»¥åŒ¹é…`abc`æˆ–è€…`xxx`

åå‘å¼•ç”¨ï¼Œå·§ç”¨`$`åˆ†ç»„æ•è·

```javascript
let str = "John Smith";

// äº¤æ¢åå­—å’Œå§“æ°
console.log(str.replace(/(john) (smith)/i, '$2, $1')) // Smith, John
```





## ä¸‰ã€åŒ¹é…æ–¹æ³•

æ­£åˆ™è¡¨è¾¾å¼å¸¸è¢«ç”¨äºæŸäº›æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æˆä¸¤ç±»ï¼š

- å­—ç¬¦ä¸²ï¼ˆstrï¼‰æ–¹æ³•ï¼š`match`ã€`matchAll`ã€`search`ã€`replace`ã€`split`
- æ­£åˆ™å¯¹è±¡ä¸‹ï¼ˆregexpï¼‰çš„æ–¹æ³•ï¼š`test`ã€`exec`
| æ–¹æ³•     | æè¿°                                                         |
| :------- | :----------------------------------------------------------- |
| exec     | ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æ‰§è¡ŒæŸ¥æ‰¾åŒ¹é…çš„RegExpæ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ˆæœªåŒ¹é…åˆ°åˆ™è¿”å› nullï¼‰ã€‚ |
| test     | ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æµ‹è¯•æ˜¯å¦åŒ¹é…çš„RegExpæ–¹æ³•ï¼Œå®ƒè¿”å› true æˆ– falseã€‚ |
| match    | ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æ‰§è¡ŒæŸ¥æ‰¾åŒ¹é…çš„Stringæ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œåœ¨æœªåŒ¹é…åˆ°æ—¶ä¼šè¿”å› nullã€‚ |
| matchAll | ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æ‰§è¡ŒæŸ¥æ‰¾æ‰€æœ‰åŒ¹é…çš„Stringæ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ˆiteratorï¼‰ã€‚ |
| search   | ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æµ‹è¯•åŒ¹é…çš„Stringæ–¹æ³•ï¼Œå®ƒè¿”å›åŒ¹é…åˆ°çš„ä½ç½®ç´¢å¼•ï¼Œæˆ–è€…åœ¨å¤±è´¥æ—¶è¿”å›-1ã€‚ |
| replace  | ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æ‰§è¡ŒæŸ¥æ‰¾åŒ¹é…çš„Stringæ–¹æ³•ï¼Œå¹¶ä¸”ä½¿ç”¨æ›¿æ¢å­—ç¬¦ä¸²æ›¿æ¢æ‰åŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²ã€‚ |
| split    | ä¸€ä¸ªä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æˆ–è€…ä¸€ä¸ªå›ºå®šå­—ç¬¦ä¸²åˆ†éš”ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶å°†åˆ†éš”åçš„å­å­—ç¬¦ä¸²å­˜å‚¨åˆ°æ•°ç»„ä¸­çš„ `String` æ–¹æ³•ã€‚ |



### str.match(regexp)

`str.match(regexp)` æ–¹æ³•åœ¨å­—ç¬¦ä¸² `str` ä¸­æ‰¾åˆ°åŒ¹é… `regexp` çš„å­—ç¬¦

å¦‚æœ `regexp` ä¸å¸¦æœ‰ `g` æ ‡è®°ï¼Œåˆ™å®ƒä»¥æ•°ç»„çš„å½¢å¼è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œå…¶ä¸­åŒ…å«åˆ†ç»„å’Œå±æ€§ `index`ï¼ˆåŒ¹é…é¡¹çš„ä½ç½®ï¼‰ã€`input`ï¼ˆè¾“å…¥å­—ç¬¦ä¸²ï¼Œç­‰äº `str`ï¼‰

```javascript
let str = "I love JavaScript";

let result = str.match(/Java(Script)/);

console.log( result[0] );     // JavaScriptï¼ˆå®Œå…¨åŒ¹é…ï¼‰
console.log( result[1] );     // Scriptï¼ˆç¬¬ä¸€ä¸ªåˆ†ç»„ï¼‰
console.log( result.length ); // 2

// å…¶ä»–ä¿¡æ¯ï¼š
console.log( result.index );  // 7ï¼ˆåŒ¹é…ä½ç½®ï¼‰
console.log( result.input );  // I love JavaScriptï¼ˆæºå­—ç¬¦ä¸²ï¼‰
```

å¦‚æœ `regexp` å¸¦æœ‰ `g` æ ‡è®°ï¼Œåˆ™å®ƒå°†æ‰€æœ‰åŒ¹é…é¡¹çš„æ•°ç»„ä½œä¸ºå­—ç¬¦ä¸²è¿”å›ï¼Œè€Œä¸åŒ…å«åˆ†ç»„å’Œå…¶ä»–è¯¦ç»†ä¿¡æ¯

```javascript
let str = "I love JavaScript";

let result = str.match(/Java(Script)/g);

console.log( result[0] ); // JavaScript
console.log( result.length ); // 1
```

å¦‚æœæ²¡æœ‰åŒ¹é…é¡¹ï¼Œåˆ™æ— è®ºæ˜¯å¦å¸¦æœ‰æ ‡è®° `g` ï¼Œéƒ½å°†è¿”å› `null`

```javascript
let str = "I love JavaScript";

let result = str.match(/HTML/);

console.log(result); // null
```



### str.matchAll(regexp)

è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç»“æœåŠåˆ†ç»„æ•è·ç»„çš„è¿­ä»£å™¨

```javascript
const regexp = /t(e)(st(\d?))/g;
const str = 'test1test2';

const array = [...str.matchAll(regexp)];

console.log(array[0]);
// expected output: Array ["test1", "e", "st1", "1"]

console.log(array[1]);
// expected output: Array ["test2", "e", "st2", "2"]
```







### str.search(regexp)

è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä½ç½®ï¼Œå¦‚æœæœªæ‰¾åˆ°ï¼Œåˆ™è¿”å› `-1`

```javascript
let str = "A drop of ink may make a million think";

console.log( str.search( /ink/i ) ); // 10ï¼ˆç¬¬ä¸€ä¸ªåŒ¹é…ä½ç½®ï¼‰
```

è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ`search` ä»…æŸ¥æ‰¾ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹







## str.replace(regexp)

æ›¿æ¢ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å­ä¸²ï¼Œå¹¶è¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸²ã€‚åœ¨ä¸è®¾ç½®å…¨å±€åŒ¹é…`g`çš„æ—¶å€™ï¼Œåªæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…æˆåŠŸçš„å­—ç¬¦ä¸²ç‰‡æ®µ

```javascript
const reg1=/javascript/i;
const reg2=/javascript/ig;
console.log('hello Javascript Javascript Javascript'.replace(reg1,'js'));
//hello js Javascript Javascript
console.log('hello Javascript Javascript Javascript'.replace(reg2,'js'));
//hello js js js
```



### str.split(regexp)

ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼ˆæˆ–å­å­—ç¬¦ä¸²ï¼‰ä½œä¸ºåˆ†éš”ç¬¦æ¥åˆ†å‰²å­—ç¬¦ä¸²

```javascript
console.log('12, 34, 56'.split(/,\s*/)) // æ•°ç»„ ['12', '34', '56']
```



### regexp.exec(str)

`regexp.exec(str)` æ–¹æ³•è¿”å›å­—ç¬¦ä¸² `str` ä¸­çš„ `regexp` åŒ¹é…é¡¹ï¼Œä¸ä»¥å‰çš„æ–¹æ³•ä¸åŒï¼Œå®ƒæ˜¯åœ¨æ­£åˆ™è¡¨è¾¾å¼è€Œä¸æ˜¯å­—ç¬¦ä¸²ä¸Šè°ƒç”¨çš„

æ ¹æ®æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦å¸¦æœ‰æ ‡å¿— `g`ï¼Œå®ƒçš„è¡Œä¸ºæœ‰æ‰€ä¸åŒ

å¦‚æœæ²¡æœ‰ `g`ï¼Œé‚£ä¹ˆ `regexp.exec(str)` è¿”å›çš„ç¬¬ä¸€ä¸ªåŒ¹é…ä¸ `str.match(regexp)` å®Œå…¨ç›¸åŒ

å¦‚æœæœ‰æ ‡è®° `g`ï¼Œè°ƒç”¨ `regexp.exec(str)` ä¼šè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œå¹¶å°†ç´§éšå…¶åçš„ä½ç½®ä¿å­˜åœ¨å±æ€§`regexp.lastIndex` ä¸­ã€‚ ä¸‹ä¸€æ¬¡åŒæ ·çš„è°ƒç”¨ä¼šä»ä½ç½® `regexp.lastIndex` å¼€å§‹æœç´¢ï¼Œè¿”å›ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œå¹¶å°†å…¶åçš„ä½ç½®ä¿å­˜åœ¨ `regexp.lastIndex` ä¸­

```javascript
let str = 'More about JavaScript at https://javascript.info';
let regexp = /javascript/ig;

let result;

while (result = regexp.exec(str)) {
  console.log( `Found ${result[0]} at position ${result.index}` );
  // Found JavaScript at position 11
  // Found javascript at position 33
}
```



### regexp.test(str)

æŸ¥æ‰¾åŒ¹é…é¡¹ï¼Œç„¶åè¿”å› `true/false` è¡¨ç¤ºæ˜¯å¦å­˜åœ¨

```javascript
let str = "I love JavaScript";

// è¿™ä¸¤ä¸ªæµ‹è¯•ç›¸åŒ
console.log( /love/i.test(str) ); // true
```





## å››ã€åº”ç”¨åœºæ™¯

é€šè¿‡ä¸Šé¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å¯¹æ­£åˆ™è¡¨è¾¾å¼æœ‰äº†ä¸€å®šçš„äº†è§£

ä¸‹é¢å†æ¥çœ‹çœ‹æ­£åˆ™è¡¨è¾¾å¼ä¸€äº›æ¡ˆä¾‹åœºæ™¯ï¼š

éªŒè¯QQåˆæ³•æ€§ï¼ˆ5~15ä½ã€å…¨æ˜¯æ•°å­—ã€ä¸ä»¥0å¼€å¤´ï¼‰ï¼š

```javascript
const reg = /^[1-9][0-9]{4,14}$/
const isvalid = patrn.exec(s)
```

æ ¡éªŒç”¨æˆ·è´¦å·åˆæ³•æ€§ï¼ˆåªèƒ½è¾“å…¥5-20ä¸ªä»¥å­—æ¯å¼€å¤´ã€å¯å¸¦æ•°å­—ã€â€œ_â€ã€â€œ.â€çš„å­—ä¸²ï¼‰ï¼š

```javascript
var patrn=/^[a-zA-Z]{1}([a-zA-Z0-9]|[._]){4,19}$/;
const isvalid = patrn.exec(s)
```

å°†`url`å‚æ•°è§£æä¸ºå¯¹è±¡

```javascript
const protocol = '(?<protocol>https?:)';
const host = '(?<host>(?<hostname>[^/#?:]+)(?::(?<port>\\d+))?)';
const path = '(?<pathname>(?:\\/[^/#?]+)*\\/?)';
const search = '(?<search>(?:\\?[^#]*)?)';
const hash = '(?<hash>(?:#.*)?)';
const reg = new RegExp(`^${protocol}\/\/${host}${path}${search}${hash}$`);
function execURL(url){
    const result = reg.exec(url);
    if(result){
        result.groups.port = result.groups.port || '';
        return result.groups;
    }
    return {
        protocol:'',host:'',hostname:'',port:'',
        pathname:'',search:'',hash:'',
    };
}

console.log(execURL('https://localhost:8080/?a=b#xxxx'));
protocol: "https:"
host: "localhost:8080"
hostname: "localhost"
port: "8080"
pathname: "/"
search: "?a=b"
hash: "#xxxx"
```

å†å°†ä¸Šé¢çš„`search`å’Œ`hash`è¿›è¡Œè§£æ

```javascript
function execUrlParams(str){
    str = str.replace(/^[#?&]/,'');
    const result = {};
    if(!str){ //å¦‚æœæ­£åˆ™å¯èƒ½é…åˆ°ç©ºå­—ç¬¦ä¸²ï¼Œææœ‰å¯èƒ½é€ æˆæ­»å¾ªç¯ï¼Œåˆ¤æ–­å¾ˆé‡è¦
        return result; 
    }
    const reg = /(?:^|&)([^&=]*)=?([^&]*?)(?=&|$)/y
    let exec = reg.exec(str);
    while(exec){
        result[exec[1]] = exec[2];
        exec = reg.exec(str);
    }
    return result;
}
console.log(execUrlParams('#'));// {}
console.log(execUrlParams('##'));//{'#':''}
console.log(execUrlParams('?q=3606&src=srp')); //{q: "3606", src: "srp"}
console.log(execUrlParams('test=a=b=c&&==&a='));//{test: "a=b=c", "": "=", a: ""}
```

## å‚è€ƒæ–‡çŒ®

- https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions
