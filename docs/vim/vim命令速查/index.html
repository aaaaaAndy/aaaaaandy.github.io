<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-vim/vim命令速查">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">vim命令速查 | aaaaaandy.github.io</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://aaaaaAndy.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://aaaaaAndy.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://aaaaaAndy.github.io/docs/vim/vim命令速查"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="vim命令速查 | aaaaaandy.github.io"><meta data-rh="true" name="description" content="一、启动Vim"><meta data-rh="true" property="og:description" content="一、启动Vim"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aaaaaAndy.github.io/docs/vim/vim命令速查"><link data-rh="true" rel="alternate" href="https://aaaaaAndy.github.io/docs/vim/vim命令速查" hreflang="en"><link data-rh="true" rel="alternate" href="https://aaaaaAndy.github.io/docs/vim/vim命令速查" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="aaaaaandy.github.io RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="aaaaaandy.github.io Atom Feed"><link rel="stylesheet" href="/assets/css/styles.008d67db.css">
<link rel="preload" href="/assets/js/runtime~main.ffc5e5a1.js" as="script">
<link rel="preload" href="/assets/js/main.8fee9b7a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="aaaaaAndy" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="aaaaaAndy" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">aaaaaAndy</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/vim">vi与vim</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/vim/VIM工作模式">VIM工作模式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/vim/vim命令速查">vim命令速查</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/vim/简明Vim练级攻略">简明Vim练级攻略</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">vim命令速查</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>vim命令速查</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="一启动vim">一、启动Vim<a href="#一启动vim" class="hash-link" aria-label="Direct link to 一、启动Vim" title="Direct link to 一、启动Vim">​</a></h2><ul><li><code>vim -c cmd file</code>: 在打开文件前，先执行指定的命令；</li><li><code>vim -r file</code>: 恢复上次异常退出的文件；</li><li><code>vim -R file</code>: 以只读的方式打开文件，但可以强制保存；</li><li><code>vim -M file</code>: 以只读的方式打开文件，不可以强制保存；</li><li><code>vim -y num file</code>: 将编辑窗口的大小设为num行；</li><li><code>vim + file</code>: 从文件的末尾开始；</li><li><code>vim +num file</code>: 从第num行开始；</li><li><code>vim +/string file</code>: 打开file，并将光标停留在第一个找到的string上。</li><li><code>vim --remote file</code>: 用已有的vim进程打开指定的文件。 如果你不想启用多个vim会话，这个很有用。但要注意， 如果你用vim，会寻找名叫VIM的服务器；如果你已经有一个gvim在运行了， 你可以用gvim --remote file在已有的gvim中打开文件。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="二操作">二、操作<a href="#二操作" class="hash-link" aria-label="Direct link to 二、操作" title="Direct link to 二、操作">​</a></h2><ul><li><code>:e file</code> --关闭当前编辑的文件，并开启新的文件。 如果对当前文件的修改未保存，vi会警告。</li><li><code>:e! file</code> --放弃对当前文件的修改，编辑新的文件。</li><li><code>:e+file</code> -- 开始新的文件，并从文件尾开始编辑。</li><li><code>:e+n file</code> -- 开始新的文件，并从第n行开始编辑。</li><li><code>:enew</code> --编译一个未命名的新文档。(CTRL-W n)</li><li><code>:e</code> -- 重新加载当前文档。</li><li><code>:e!</code> -- 重新加载当前文档，并丢弃已做的改动。</li><li><code>:e#或ctrl+^</code> -- 回到刚才编辑的文件，很实用。</li><li><code>:f或ctrl+g</code> -- 显示文档名，是否修改，和光标位置。</li><li><code>:f filename</code> -- 改变编辑的文件名，这时再保存相当于另存为。</li><li><code>gf</code> -- 打开以光标所在字符串为文件名的文件。</li><li><code>:w</code> -- 保存修改。</li><li><code>:n1,n2w filename</code> -- 选择性保存从某n1行到另n2行的内容。</li><li><code>:wq</code> -- 保存并退出。</li><li><code>ZZ</code> -- 保存并退出。</li><li><code>:x</code> -- 保存并退出。</li><li><code>:q[uit]</code> ——退出当前窗口。(CTRL-W q或CTRL-W CTRL-Q)</li><li><code>:saveas newfilename</code> -- 另存为</li><li><code>:browse e</code> -- 会打开一个文件浏览器让你选择要编辑的文件。 如果是终端中，则会打开netrw的文件浏览窗口； 如果是gvim，则会打开一个图形界面的浏览窗口。 实际上:browse后可以跟任何编辑文档的命令，如sp等。 用browse打开的起始目录可以由browsedir来设置：<ul><li><code>:set browsedir=last</code> -- 用上次访问过的目录（默认）；</li><li><code>:set browsedir=buffer</code> -- 用当前文件所在目录；</li><li><code>:set browsedir=current</code> -- 用当前工作目录；</li></ul></li><li><code>:Sex</code> -- 水平分割一个窗口，浏览文件系统；</li><li><code>:Vex</code> -- 垂直分割一个窗口，浏览文件系统；</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="三光标的移动">三、光标的移动<a href="#三光标的移动" class="hash-link" aria-label="Direct link to 三、光标的移动" title="Direct link to 三、光标的移动">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-基本移动">1. 基本移动<a href="#1-基本移动" class="hash-link" aria-label="Direct link to 1. 基本移动" title="Direct link to 1. 基本移动">​</a></h3><p>以下移动都是在normal模式下。</p><ul><li><code>h</code>或退格: 左移一个字符；</li><li><code>l</code>或空格: 右移一个字符；</li><li><code>j</code>: 下移一行；</li><li><code>k</code>: 上移一行；</li><li><code>gj</code>: 移动到一段内的下一行；</li><li><code>gk</code>: 移动到一段内的上一行；</li><li><code>+</code>或<code>Enter</code>: 把光标移至下一行第一个非空白字符。</li><li><code>:</code> 把光标移至上一行第一个非空白字符。</li><li><code>w:</code> 前移一个单词，光标停在下一个单词开头；</li><li><code>W:</code> 移动下一个单词开头，但忽略一些标点；</li><li><code>e:</code> 前移一个单词，光标停在下一个单词末尾；</li><li><code>E:</code> 移动到下一个单词末尾，如果词尾有标点，则移动到标点；</li><li><code>b:</code> 后移一个单词，光标停在上一个单词开头；</li><li><code>B:</code> 移动到上一个单词开头，忽略一些标点；</li><li><code>ge:</code> 后移一个单词，光标停在上一个单词末尾；</li><li><code>gE:</code> 同  ，不过‘单词’包含单词相邻的标点。<!-- -->  ge
</li><li><code>(:</code> 前移1句。</li><li><code>):</code> 后移1句。</li><li><code>{:</code> 前移1段。</li><li><code>}:</code> 后移1段。</li><li><code>fc:</code> 把光标移到同一行的下一个c字符处</li><li><code>Fc:</code> 把光标移到同一行的上一个c字符处</li><li><code>tc:</code> 把光标移到同一行的下一个c字符前</li><li><code>Tc:</code> 把光标移到同一行的上一个c字符后</li><li><code>;:</code> 配合f &amp; t使用，重复一次</li><li><code>,:</code> 配合f &amp; t使用，反向重复一次</li></ul><p>上面的操作都可以配合n使用，比如在正常模式(下面会讲到)下输入3h， 则光标向左移动3个字符。</p><ul><li><code>0:</code> 移动到行首。</li><li><code>g0:</code> 移到光标所在屏幕行行首。</li><li><code>^:</code> 移动到本行第一个非空白字符。</li><li><code>g^:</code> 同  ，但是移动到当前屏幕行第一个非空字符处。<!-- -->  ^
</li><li>$: 移动到行尾。</li><li>g$: 移动光标所在屏幕行行尾。</li><li>n|: 把光标移到递n列上。</li><li>nG: 到文件第n行。</li><li>:n<cr></cr> 移动到第n行。</li><li>:$<cr></cr> 移动到最后一行。</li><li>H: 把光标移到屏幕最顶端一行。</li><li>M: 把光标移到屏幕中间一行。</li><li>L: 把光标移到屏幕最底端一行。</li><li>gg: 到文件头部。</li><li>G: 到文件尾部。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-翻屏">2. 翻屏<a href="#2-翻屏" class="hash-link" aria-label="Direct link to 2. 翻屏" title="Direct link to 2. 翻屏">​</a></h3><ul><li>ctrl+f: 下翻一屏。</li><li>ctrl+b: 上翻一屏。</li><li>ctrl+d: 下翻半屏。</li><li>ctrl+u: 上翻半屏。</li><li>ctrl+e: 向下滚动一行。</li><li>ctrl+y: 向上滚动一行。</li><li>n%: 到文件n%的位置。</li><li>zz: 将当前行移动到屏幕中央。</li><li>zt: 将当前行移动到屏幕顶端。</li><li>zb: 将当前行移动到屏幕底端。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-标记">3. 标记<a href="#3-标记" class="hash-link" aria-label="Direct link to 3. 标记" title="Direct link to 3. 标记">​</a></h3><p>使用标记可以快速移动。到达标记后，可以用Ctrl+o返回原来的位置。 Ctrl+o和Ctrl+i 很像浏览器上的 <em>后退</em> 和 <em>前进</em> 。</p><ul><li>m{a-z}: 标记光标所在位置，局部标记，只用于当前文件。</li><li>m{A-Z}: 标记光标所在位置，全局标记。标记之后，退出Vim， 重新启动，标记仍然有效。</li><li>`{a-z}: 移动到标记位置。</li><li>&#x27;{a-z}: 移动到标记行的行首。</li><li>`{0-9}：回到上<!-- -->[2-10]<!-- -->次关闭vim时最后离开的位置。</li><li><code>: 移动到上次编辑的位置。&#x27;&#x27;也可以，不过</code>精确到列，而&#x27;&#x27;精确到行 。如果想跳转到更老的位置，可以按C-o，跳转到更新的位置用C-i。</li><li>`&quot;: 移动到上次离开的地方。</li><li>`.: 移动到最后改动的地方。</li><li>:marks 显示所有标记。</li><li>:delmarks a b -- 删除标记a和b。</li><li>:delmarks a-c -- 删除标记a、b和c。</li><li>:delmarks a c-f -- 删除标记a、c、d、e、f。</li><li>:delmarks! -- 删除当前缓冲区的所有标记。</li><li>:help mark-motions 查看更多关于mark的知识。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="四插入文本">四、插入文本<a href="#四插入文本" class="hash-link" aria-label="Direct link to 四、插入文本" title="Direct link to 四、插入文本">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-基本插入">1. 基本插入<a href="#1-基本插入" class="hash-link" aria-label="Direct link to 1. 基本插入" title="Direct link to 1. 基本插入">​</a></h3><ul><li>i: 在光标前插入；一个小技巧：按8，再按i，进入插入模式，输入=， 按esc进入命令模式，就会出现8个=。 这在插入分割线时非常有用，如30i+<code>&lt;esc&gt;</code>就插入了36个+组成的分割线。</li><li>I: 在当前行第一个非空字符前插入；</li><li>gI: 在当前行第一列插入；</li><li>a: 在光标后插入；</li><li>A: 在当前行最后插入；</li><li>o: 在下面新建一行插入；</li><li>O: 在上面新建一行插入；</li><li>:r filename在当前位置插入另一个文件的内容。</li><li>:<!-- -->[n]<!-- -->r filename在第n行插入另一个文件的内容。</li><li>:r !date 在光标处插入当前日期与时间。同理，:r !command可以将其它shell命令的输出插入当前文档。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-改写插入">2. 改写插入<a href="#2-改写插入" class="hash-link" aria-label="Direct link to 2. 改写插入" title="Direct link to 2. 改写插入">​</a></h3><ul><li>c<!-- -->[n]<!-- -->w: 改写光标后1(n)个词。</li><li>c<!-- -->[n]<!-- -->l: 改写光标后n个字母。</li><li>c<!-- -->[n]<!-- -->h: 改写光标前n个字母。</li><li>[n]<!-- -->cc: 修改当前<!-- -->[n]<!-- -->行。</li><li>[n]<!-- -->s: 以输入的文本替代光标之后1(n)个字符，相当于c<!-- -->[n]<!-- -->l。</li><li>[n]<!-- -->S: 删除指定数目的行，并以所输入文本代替之。</li></ul><p>注意，类似cnw,dnw,ynw的形式同样可以写为ncw,ndw,nyw。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="五剪切复制和寄存器">五、剪切复制和寄存器<a href="#五剪切复制和寄存器" class="hash-link" aria-label="Direct link to 五、剪切复制和寄存器" title="Direct link to 五、剪切复制和寄存器">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-剪切和复制粘贴">1. 剪切和复制、粘贴<a href="#1-剪切和复制粘贴" class="hash-link" aria-label="Direct link to 1. 剪切和复制、粘贴" title="Direct link to 1. 剪切和复制、粘贴">​</a></h3><ul><li>[n]<!-- -->x: 剪切光标右边n个字符，相当于d<!-- -->[n]<!-- -->l。</li><li>[n]<!-- -->X: 剪切光标左边n个字符，相当于d<!-- -->[n]<!-- -->h。</li><li>y: 复制在可视模式下选中的文本。</li><li>yy or Y: 复制整行文本。</li><li>y<!-- -->[n]<!-- -->w: 复制一(n)个词。</li><li>y<!-- -->[n]<!-- -->l: 复制光标右边1(n)个字符。</li><li>y<!-- -->[n]<!-- -->h: 复制光标左边1(n)个字符。</li><li>y$: 从光标当前位置复制到行尾。</li><li>y0: 从光标当前位置复制到行首。</li><li>:m,ny<cr></cr> 复制m行到n行的内容。</li><li>y1G或ygg: 复制光标以上的所有行。</li><li>yG: 复制光标以下的所有行。</li><li>yaw和yas：复制一个词和复制一个句子，即使光标不在词首和句首也没关系。</li><li>d: 删除（剪切）在可视模式下选中的文本。</li><li>d$ or D: 删除（剪切）当前位置到行尾的内容。</li><li>d<!-- -->[n]<!-- -->w: 删除（剪切）1(n)个单词</li><li>d<!-- -->[n]<!-- -->l: 删除（剪切）光标右边1(n)个字符。</li><li>d<!-- -->[n]<!-- -->h: 删除（剪切）光标左边1(n)个字符。</li><li>d0: 删除（剪切）当前位置到行首的内容</li><li>[n]<!-- --> dd: 删除（剪切）1(n)行。</li><li>:m,nd<cr></cr> 剪切m行到n行的内容。</li><li>d1G或dgg: 剪切光标以上的所有行。</li><li>dG: 剪切光标以下的所有行。</li><li>daw和das：剪切一个词和剪切一个句子，即使光标不在词首和句首也没关系。</li><li>d/f<cr></cr>：这是一个比较高级的组合命令，它将删除当前位置 到下一个f之间的内容。</li><li>p: 在光标之后粘贴。</li><li>P: 在光标之前粘贴。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-文本对象">2. 文本对象<a href="#2-文本对象" class="hash-link" aria-label="Direct link to 2. 文本对象" title="Direct link to 2. 文本对象">​</a></h3><ul><li>aw：一个词</li><li>as：一句。</li><li>ap：一段。</li><li>ab：一块（包含在圆括号中的）。</li></ul><p>y, d, c, v都可以跟文本对象。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-寄存器">3. 寄存器<a href="#3-寄存器" class="hash-link" aria-label="Direct link to 3. 寄存器" title="Direct link to 3. 寄存器">​</a></h3><ul><li>a-z：都可以用作寄存器名。&quot;ayy把当前行的内容放入a寄存器。</li><li>A-Z：用大写字母索引寄存器，可以在寄存器中追加内容。 如&quot;Ayy把当前行的内容追加到a寄存器中。</li><li>:reg 显示所有寄存器的内容。</li><li>&quot;&quot;：不加寄存器索引时，默认使用的寄存器。</li><li>&quot;<em>：当前选择缓冲区，&quot;</em>yy把当前行的内容放入当前选择缓冲区。</li><li>&quot;+：系统剪贴板。&quot;+yy把当前行的内容放入系统剪贴板。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="六查找与替换">六、查找与替换<a href="#六查找与替换" class="hash-link" aria-label="Direct link to 六、查找与替换" title="Direct link to 六、查找与替换">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-查找">1. 查找<a href="#1-查找" class="hash-link" aria-label="Direct link to 1. 查找" title="Direct link to 1. 查找">​</a></h3><ul><li>/something: 在后面的文本中查找something。</li><li>?something: 在前面的文本中查找something。</li><li>/pattern/+number: 将光标停在包含pattern的行后面第number行上。</li><li>/pattern/-number: 将光标停在包含pattern的行前面第number行上。</li><li>n: 向后查找下一个。</li><li>N: 向前查找下一个。</li></ul><p>可以用grep或vimgrep查找一个模式都在哪些地方出现过，</p><p>其中:grep是调用外部的grep程序，而:vimgrep是vim自己的查找算法。</p><p>用法为： :vim<!-- -->[grep]<!-- -->/pattern/<!-- -->[g][j]<!-- --> files</p><p>g的含义是如果一个模式在一行中多次出现，则这一行也在结果中多次出现。</p><p>j的含义是grep结束后，结果停在第j项，默认是停在第一项。</p><p>vimgrep前面可以加数字限定搜索结果的上限，如</p><p>:1vim/pattern/ % 只查找那个模式在本文件中的第一个出现。</p><p>其实vimgrep在读纯文本电子书时特别有用，可以生成导航的目录。</p><p>比如电子书中每一节的标题形式为：n. xxxx。你就可以这样：</p><p>:vim/^d{1,}./ %</p><p>然后用:cw或:copen查看结果，可以用C-w H把quickfix窗口移到左侧，</p><p>就更像个目录了。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-替换">2. 替换<a href="#2-替换" class="hash-link" aria-label="Direct link to 2. 替换" title="Direct link to 2. 替换">​</a></h3><ul><li>:s/old/new - 用new替换当前行第一个old。</li><li>:s/old/new/g - 用new替换当前行所有的old。</li><li>:n1,n2s/old/new/g - 用new替换文件n1行到n2行所有的old。</li><li>:%s/old/new/g - 用new替换文件中所有的old。</li><li>:%s/^/xxx/g - 在每一行的行首插入xxx，^表示行首。</li><li>:%s/$/xxx/g - 在每一行的行尾插入xxx，$表示行尾。</li><li>所有替换命令末尾加上c，每个替换都将需要用户确认。 如：%s/old/new/gc，加上i则忽略大小写(ignore)。</li></ul><p>还有一种比替换更灵活的方式，它是匹配到某个模式后执行某种命令，</p><p>语法为 :<!-- -->[range]<!-- -->g/pattern/command</p><p>例如 :%g/^ xyz/normal dd。</p><p>表示对于以一个空格和xyz开头的行执行normal模式下的dd命令。</p><p>关于range的规定为：</p><ul><li>如果不指定range，则表示当前行。</li><li>m,n: 从m行到n行。</li><li>0: 最开始一行（可能是这样）。</li><li>$: 最后一行</li><li>.: 当前行</li><li>%: 所有行</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-正则表达式">3. 正则表达式<a href="#3-正则表达式" class="hash-link" aria-label="Direct link to 3. 正则表达式" title="Direct link to 3. 正则表达式">​</a></h3><p>高级的查找替换就要用到正则表达式。</p><ul><li>\d: 表示十进制数（我猜的）</li><li>\s: 表示空格</li><li>\S: 非空字符</li><li>\a: 英文字母</li><li>|<!-- -->: 表示 或</li><li>.<!-- -->: 表示.</li><li>{m,n}: 表示m到n个字符。这要和 \s与\a等连用，如 \a<!-- -->{<!-- -->m,n} 表示m 到n个英文字母。</li><li>{m,}: 表示m到无限多个字符。</li><li>*: 当前目录下的所有子目录。</li></ul><p>:help pattern得到更多帮助。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="七排版">七、排版<a href="#七排版" class="hash-link" aria-label="Direct link to 七、排版" title="Direct link to 七、排版">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-基本排版">1. 基本排版<a href="#1-基本排版" class="hash-link" aria-label="Direct link to 1. 基本排版" title="Direct link to 1. 基本排版">​</a></h3><ul><li>\&lt;\&lt; 向左缩进一个shiftwidth</li><li>&gt;<!-- -->&gt;<!-- --> 向右缩进一个shiftwidth</li><li>:ce(nter) 本行文字居中</li><li>:le(ft) 本行文字靠左</li><li>:ri(ght) 本行文字靠右</li><li>gq 对选中的文字重排，即对过长的文字进行断行</li><li>gqq 重排当前行</li><li>gqnq 重排n行</li><li>gqap 重排当前段</li><li>gqnap 重排n段</li><li>gqnj 重排当前行和下面n行</li><li>gqQ 重排当前段对文章末尾</li><li>J 拼接当前行和下一行</li><li>gJ 同  ，不过合并后不留空格。<!-- -->  J
</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-拼写检查">2. 拼写检查<a href="#2-拼写检查" class="hash-link" aria-label="Direct link to 2. 拼写检查" title="Direct link to 2. 拼写检查">​</a></h3><ul><li>:set spell－开启拼写检查功能</li><li>:set nospell－关闭拼写检查功能</li><li>]s－移到下一个拼写错误的单词</li><li>[s－作用与上一命令类似，但它是从相反方向进行搜索</li><li>z=－显示一个有关拼写错误单词的列表，可从中选择</li><li>zg－告诉拼写检查器该单词是拼写正确的</li><li>zw－与上一命令相反，告诉拼写检查器该单词是拼写错误的</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-统计字数">3. 统计字数<a href="#3-统计字数" class="hash-link" aria-label="Direct link to 3. 统计字数" title="Direct link to 3. 统计字数">​</a></h3><p>g ^g可以统计文档字符数，行数。 将光标放在最后一个字符上，用字符数减去行数可以粗略统计中文文档的字数。 以上对 Mac 或 Unix 的文件格式适用。 如果是 Windows 文件格式（即换行符有两个字节），字数的统计方法为： 字符数 - 行数 * 2。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="八编辑多个文件">八、编辑多个文件<a href="#八编辑多个文件" class="hash-link" aria-label="Direct link to 八、编辑多个文件" title="Direct link to 八、编辑多个文件">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-一次编辑多个文件">1. 一次编辑多个文件<a href="#1-一次编辑多个文件" class="hash-link" aria-label="Direct link to 1. 一次编辑多个文件" title="Direct link to 1. 一次编辑多个文件">​</a></h3><p>我们可以一次打开多个文件，如</p><blockquote><p>vi a.txt b.txt c.txt</p><ul><li>使用:next(:n)编辑下一个文件。</li><li>:2n 编辑下2个文件。</li><li>使用:previous或:N编辑上一个文件。</li><li>使用:wnext，保存当前文件，并编辑下一个文件。</li><li>使用:wprevious，保存当前文件，并编辑上一个文件。</li><li>使用:args 显示文件列表。</li><li>:n filenames或:args filenames 指定新的文件列表。</li><li>vi -o filenames 在水平分割的多个窗口中编辑多个文件。</li><li>vi -O filenames 在垂直分割的多个窗口中编辑多个文件。</li></ul></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-多标签编辑">2. 多标签编辑<a href="#2-多标签编辑" class="hash-link" aria-label="Direct link to 2. 多标签编辑" title="Direct link to 2. 多标签编辑">​</a></h3><ul class="contains-task-list containsTaskList_mC6p"><li>vim -p files: 打开多个文件，每个文件占用一个标签页。</li><li>:tabe, tabnew -- 如果加文件名，就在新的标签中打开这个文件， 否则打开一个空缓冲区。</li><li>^w gf -- 在新的标签页里打开光标下路径指定的文件。</li><li>:tabn -- 切换到下一个标签。Control + PageDown，也可以。</li><li>:tabp -- 切换到上一个标签。Control + PageUp，也可以。</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->gt -- 切换到下一个标签。如果前面加了  ， 就切换到第n个标签。第一个标签的序号就是1。<!-- -->  n
</li><li>:tab split --5 将当前缓冲区的内容在新页签中打开。</li><li>:tabc<!-- -->[lose]<!-- --> -- 关闭当前的标签页。</li><li>:tabo<!-- -->[nly]<!-- --> -- 关闭其它的标签页。</li><li>:tabs -- 列出所有的标签页和它们包含的窗口。</li><li>:tabm<!-- -->[ove][N]<!-- --> -- 移动标签页，移动到第N个标签页之后。 如  当前标签页，就会变成第一个标签页。<!-- -->  tabm 0
</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-缓冲区">3. 缓冲区<a href="#3-缓冲区" class="hash-link" aria-label="Direct link to 3. 缓冲区" title="Direct link to 3. 缓冲区">​</a></h3><ul><li>:buffers或:ls或:files 显示缓冲区列表。</li><li>ctrl+^：在最近两个缓冲区间切换。</li><li>:bn -- 下一个缓冲区。</li><li>:bp -- 上一个缓冲区。</li><li>:bl -- 最后一个缓冲区。</li><li>:b<!-- -->[n]<!-- -->或:<!-- -->[n]<!-- -->b -- 切换到第n个缓冲区。</li><li>:nbw(ipeout) -- 彻底删除第n个缓冲区。</li><li>:nbd(elete) -- 删除第n个缓冲区，并未真正删除，还在unlisted列表中。</li><li>:ba<!-- -->[ll]<!-- --> -- 把所有的缓冲区在当前页中打开，每个缓冲区占一个窗口。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="九分屏编辑">九、分屏编辑<a href="#九分屏编辑" class="hash-link" aria-label="Direct link to 九、分屏编辑" title="Direct link to 九、分屏编辑">​</a></h2><ul><li>vim -o file1 file2:水平分割窗口，同时打开file1和file2</li><li>vim -O file1 file2:垂直分割窗口，同时打开file1和file2</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-水平分割">1. 水平分割<a href="#1-水平分割" class="hash-link" aria-label="Direct link to 1. 水平分割" title="Direct link to 1. 水平分割">​</a></h3><ul><li>:split(:sp) -- 把当前窗水平分割成两个窗口。(CTRL-W s 或 CTRL-W CTRL-S) 注意如果在终端下，CTRL-S可能会冻结终端，请按CTRL-Q继续。</li><li>:split filename -- 水平分割窗口，并在新窗口中显示另一个文件。</li><li>:nsplit(:nsp) -- 水平分割出一个n行高的窗口。</li><li>:<!-- -->[N]<!-- -->new -- 水平分割出一个N行高的窗口，并编辑一个新文件。 (CTRL-W n或 CTRL-W CTRL-N)</li><li>ctrl+w f --水平分割出一个窗口，并在新窗口打开名称为光标所在词的文件 。</li><li>C-w C-^ -- 水平分割一个窗口，打开刚才编辑的文件。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-垂直分割">2. 垂直分割<a href="#2-垂直分割" class="hash-link" aria-label="Direct link to 2. 垂直分割" title="Direct link to 2. 垂直分割">​</a></h3><ul><li>:vsplit(:vsp) -- 把当前窗口分割成水平分布的两个窗口。 (CTRL-W v或CTRL CTRL-V)</li><li>:<!-- -->[N]<!-- -->vne<!-- -->[w]<!-- --> -- 垂直分割出一个新窗口。</li><li>:vertical 水平分割的命令： 相应的垂直分割。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-关闭子窗口">3. 关闭子窗口<a href="#3-关闭子窗口" class="hash-link" aria-label="Direct link to 3. 关闭子窗口" title="Direct link to 3. 关闭子窗口">​</a></h3><ul><li>:qall -- 关闭所有窗口，退出vim。</li><li>:wall -- 保存所有修改过的窗口。</li><li>:only -- 只保留当前窗口，关闭其它窗口。(CTRL-W o)</li><li>:close -- 关闭当前窗口，CTRL-W c能实现同样的功能。 (象 :q :x同样工作 )</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-调整窗口大小">4. 调整窗口大小<a href="#4-调整窗口大小" class="hash-link" aria-label="Direct link to 4. 调整窗口大小" title="Direct link to 4. 调整窗口大小">​</a></h3><ul><li>ctrl+w + --当前窗口增高一行。也可以用n增高n行。</li><li>ctrl+w - --当前窗口减小一行。也可以用n减小n行。</li><li>ctrl+w _ --当前窗口扩展到尽可能的大。也可以用n设定行数。</li><li>:resize n -- 当前窗口n行高。</li><li>ctrl+w = -- 所有窗口同样高度。</li><li>n ctrl+w _ -- 当前窗口的高度设定为n行。</li><li>ctrl+w &lt; --当前窗口减少一列。也可以用n减少n列。</li><li>ctrl+w &gt; --当前窗口增宽一列。也可以用n增宽n列。</li><li>ctrl+w | --当前窗口尽可能的宽。也可以用n设定列数。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-切换和移动窗口">5. 切换和移动窗口<a href="#5-切换和移动窗口" class="hash-link" aria-label="Direct link to 5. 切换和移动窗口" title="Direct link to 5. 切换和移动窗口">​</a></h3><p>如果支持鼠标，切换和调整子窗口的大小就简单了。</p><ul><li>ctrl+w ctrl+w: 切换到下一个窗口。或者是ctrl+w w。</li><li>ctrl+w p: 切换到前一个窗口。</li><li>ctrl+w h(l,j,k):切换到左（右，下，上）的窗口。</li><li>ctrl+w t(b):切换到最上（下）面的窗口。<code>&lt;BR&gt;</code></li><li>ctrl+w H(L,K,J): 将当前窗口移动到最左（右、上、下）面。</li><li>ctrl+w r：旋转窗口的位置。</li><li>ctrl+w T: 将当前的窗口移动到新的标签页上。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="十快速编辑">十、快速编辑<a href="#十快速编辑" class="hash-link" aria-label="Direct link to 十、快速编辑" title="Direct link to 十、快速编辑">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-改变大小写">1. 改变大小写<a href="#1-改变大小写" class="hash-link" aria-label="Direct link to 1. 改变大小写" title="Direct link to 1. 改变大小写">​</a></h3><ul><li>~: 反转光标所在字符的大小写。</li><li>可视模式下的U或u：把选中的文本变为大写或小写。</li><li>gu(U)接范围（如$，或G），可以把从光标当前位置到指定位置之间字母全部 转换成小写或大写。如ggguG，就是把开头到最后一行之间的字母全部变为小 写。再如gu5j，把当前行和下面四行全部变成小写。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-替换normal模式">2. 替换（normal模式）<a href="#2-替换normal模式" class="hash-link" aria-label="Direct link to 2. 替换（normal模式）" title="Direct link to 2. 替换（normal模式）">​</a></h3><ul><li>r: 替换光标处的字符，同样支持汉字。</li><li>R: 进入替换模式，按esc回到正常模式。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-撤消与重做normal模式">3. 撤消与重做（normal模式）<a href="#3-撤消与重做normal模式" class="hash-link" aria-label="Direct link to 3. 撤消与重做（normal模式）" title="Direct link to 3. 撤消与重做（normal模式）">​</a></h3><ul><li>[n]<!-- --> u: 取消一(n)个改动。</li><li>:undo 5 -- 撤销5个改变。</li><li>:undolist -- 你的撤销历史。</li><li>ctrl + r: 重做最后的改动。</li><li>U: 取消当前行中所有的改动。</li><li>:earlier 4m -- 回到4分钟前</li><li>:later 55s -- 前进55秒</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-宏">4. 宏<a href="#4-宏" class="hash-link" aria-label="Direct link to 4. 宏" title="Direct link to 4. 宏">​</a></h3><ul><li>. --重复上一个编辑动作</li><li>qa：开始录制宏a（键盘操作记录）</li><li>q：停止录制</li><li>@a：播放宏a</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="十一编辑特殊文件">十一、编辑特殊文件<a href="#十一编辑特殊文件" class="hash-link" aria-label="Direct link to 十一、编辑特殊文件" title="Direct link to 十一、编辑特殊文件">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-文件加解密">1. 文件加解密<a href="#1-文件加解密" class="hash-link" aria-label="Direct link to 1. 文件加解密" title="Direct link to 1. 文件加解密">​</a></h3><ul><li>vim -x file: 开始编辑一个加密的文件。</li><li>:X -- 为当前文件设置密码。</li><li>:set key= -- 去除文件的密码。</li></ul><p><a href="http://www.cnblogs.com/jiqingwu/admin/vim-quick-edit.html" target="_blank" rel="noopener noreferrer">这里是</a> 滇狐总结的比较高级的vi技巧。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-文件的编码">2. 文件的编码<a href="#2-文件的编码" class="hash-link" aria-label="Direct link to 2. 文件的编码" title="Direct link to 2. 文件的编码">​</a></h3><ul><li>:e ++enc=utf8 filename, 让vim用utf-8的编码打开这个文件。</li><li>:w ++enc=gbk，不管当前文件什么编码，把它转存成gbk编码。</li><li>:set fenc或:set fileencoding，查看当前文件的编码。</li><li>在vimrc中添加set fileencoding=ucs-bom,utf-8,cp936，vim会根据要打开的文件选择合适的编码。 注意：编码之间不要留空格。 cp936对应于gbk编码。 ucs-bom对应于windows下的文件格式。</li></ul><p>让vim 正确处理文件格式和文件编码，有赖于 <a href="http://www.cnblogs.com/jiqingwu/admin/vimrc.html" target="_blank" rel="noopener noreferrer">~/.vimrc的正确配置</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-文件格式">3. 文件格式<a href="#3-文件格式" class="hash-link" aria-label="Direct link to 3. 文件格式" title="Direct link to 3. 文件格式">​</a></h3><p>大致有三种文件格式：unix, dos, mac. 三种格式的区别主要在于回车键的编码：dos 下是回车加换行，unix 下只有 换行符，mac 下只有回车符。</p><ul><li>:e ++ff=dos filename, 让vim用dos格式打开这个文件。</li><li>:w ++ff=mac filename, 以mac格式存储这个文件。</li><li>:set ff，显示当前文件的格式。</li><li>在vimrc中添加set fileformats=unix,dos,mac，让vim自动识别文件格式。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="十二编程辅助">十二、编程辅助<a href="#十二编程辅助" class="hash-link" aria-label="Direct link to 十二、编程辅助" title="Direct link to 十二、编程辅助">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-一些按键">1. 一些按键<a href="#1-一些按键" class="hash-link" aria-label="Direct link to 1. 一些按键" title="Direct link to 1. 一些按键">​</a></h3><ul><li>gd: 跳转到局部变量的定义处；</li><li>gD: 跳转到全局变量的定义处，从当前文件开头开始搜索；</li><li>g;: 上一个修改过的地方；</li><li>g,: 下一个修改过的地方；</li><li>[[: 跳转到上一个函数块开始，需要有单独一行的{。</li><li>]]: 跳转到下一个函数块开始，需要有单独一行的{。</li><li>[]: 跳转到上一个函数块结束，需要有单独一行的}。</li><li>][: 跳转到下一个函数块结束，需要有单独一行的}。</li><li>[{: 跳转到当前块开始处；</li><li>]}: 跳转到当前块结束处；</li><li>[/: 跳转到当前注释块开始处；</li><li>]/: 跳转到当前注释块结束处；</li><li>%: 不仅能移动到匹配的(),{}或[]上，而且能在#if，#else， #endif之间跳跃。</li></ul><p>下面的括号匹配对编程很实用的。</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> ci&#x27;, di&#x27;, yi&#x27;：修改、剪切或复制&#x27;之间的内容。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ca&#x27;, da&#x27;, ya&#x27;：修改、剪切或复制&#x27;之间的内容，包含&#x27;。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ci&quot;, di&quot;, yi&quot;：修改、剪切或复制&quot;之间的内容。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ca&quot;, da&quot;, ya&quot;：修改、剪切或复制&quot;之间的内容，包含&quot;。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ci(, di(, yi(：修改、剪切或复制()之间的内容。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ca(, da(, ya(：修改、剪切或复制()之间的内容，包含()。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ci[, di[, yi[：修改、剪切或复制[]之间的内容。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ca[, da[, ya[：修改、剪切或复制[]之间的内容，包含[]。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ci{, di{, yi{：修改、剪切或复制{}之间的内容。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ca{, da{, ya{：修改、剪切或复制{}之间的内容，包含{}。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ci&lt;, di&lt;, yi&lt;：修改、剪切或复制&lt;&gt;之间的内容。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ca&lt;, da&lt;, ya&lt;：修改、剪切或复制&lt;&gt;之间的内容，包含&lt;&gt;。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-ctags">2. ctags<a href="#2-ctags" class="hash-link" aria-label="Direct link to 2. ctags" title="Direct link to 2. ctags">​</a></h3><ul><li>ctags -R: 生成tag文件，-R表示也为子目录中的文件生成tags</li><li>:set tags=path/tags -- 告诉ctags使用哪个tag文件</li><li>:tag xyz -- 跳到xyz的定义处，或者将光标放在xyz上按C-]，返回用C-t</li><li>:stag xyz -- 用分割的窗口显示xyz的定义，或者C-w ]， 如果用C-w n ]，就会打开一个n行高的窗口</li><li>:ptag xyz -- 在预览窗口中打开xyz的定义，热键是C-w }。</li><li>:pclose -- 关闭预览窗口。热键是C-w z。</li><li>:pedit abc.h -- 在预览窗口中编辑abc.h</li><li>:psearch abc -- 搜索当前文件和当前文件include的文件，显示包含abc的行。</li></ul><p>有时一个tag可能有多个匹配，如函数重载，一个函数名就会有多个匹配。 这种情况会先跳转到第一个匹配处。</p><ul><li>:<!-- -->[n]<!-- -->tnext -- 下一<!-- -->[n]<!-- -->个匹配。</li><li>:<!-- -->[n]<!-- -->tprev -- 上一<!-- -->[n]<!-- -->个匹配。</li><li>:tfirst -- 第一个匹配</li><li>:tlast -- 最后一个匹配</li><li>:tselect tagname -- 打开选择列表</li></ul><p>tab键补齐</p><ul><li>:tag xyz<code>&lt;tab&gt;</code> -- 补齐以xyz开头的tag名，继续按tab键，会显示其他的。</li><li>:tag /xyz<code>&lt;tab&gt;</code> -- 会用名字中含有xyz的tag名补全。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-cscope">3. cscope<a href="#3-cscope" class="hash-link" aria-label="Direct link to 3. cscope" title="Direct link to 3. cscope">​</a></h3><ul><li>cscope -Rbq: 生成cscope.out文件</li><li>:cs add /path/to/cscope.out /your/work/dir</li><li>:cs find c func -- 查找func在哪些地方被调用</li><li>:cw -- 打开quickfix窗口查看结果</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-gtags">4. gtags<a href="#4-gtags" class="hash-link" aria-label="Direct link to 4. gtags" title="Direct link to 4. gtags">​</a></h3><p>Gtags综合了ctags和cscope的功能。 使用Gtags之前，你需要安装GNU Gtags。 然后在工程目录运行 gtags 。</p><ul><li>:Gtags funcname 定位到 funcname 的定义处。</li><li>:Gtags -r funcname 查询 funcname被引用的地方。</li><li>:Gtags -s symbol 定位 symbol 出现的地方。</li><li>:Gtags -g string Goto string 出现的地方。 :Gtags -gi string 忽略大小写。</li><li>:Gtags -f filename 显示 filename 中的函数列表。 你可以用 :Gtags -f % 显示当前文件。</li><li>:Gtags -P pattern 显示路径中包含特定模式的文件。 如 :Gtags -P .h$ 显示所有头文件， :Gtags -P /vm/ 显示vm目录下的文件。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-编译">5. 编译<a href="#5-编译" class="hash-link" aria-label="Direct link to 5. 编译" title="Direct link to 5. 编译">​</a></h3><p>vim提供了:make来编译程序，默认调用的是make， 如果你当前目录下有makefile，简单地:make即可。</p><p>如果你没有make程序，你可以通过配置makeprg选项来更改make调用的程序。 如果你只有一个abc.java文件，你可以这样设置：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">set</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">makeprg</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">javac</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"> abc.java</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>然后:make即可。如果程序有错，可以通过quickfix窗口查看错误。 不过如果要正确定位错误，需要设置好errorformat，让vim识别错误信息。 如：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">:setl </span><span class="token assign-left variable" style="color:#36acaa">efm</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">%A%f:%l:</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"> %m,%-Z%p^,%-C%.%</span><span class="token comment" style="color:#999988;font-style:italic">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>%f表示文件名，%l表示行号， %m表示错误信息，其它的还不能理解。 请参考 :help errorformat。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-快速修改窗口">6. 快速修改窗口<a href="#6-快速修改窗口" class="hash-link" aria-label="Direct link to 6. 快速修改窗口" title="Direct link to 6. 快速修改窗口">​</a></h3><p>其实是quickfix插件提供的功能， 对编译调试程序非常有用 :)</p><ul><li>:copen -- 打开快速修改窗口。</li><li>:cclose -- 关闭快速修改窗口。</li></ul><p>快速修改窗口在make程序时非常有用，当make之后：</p><ul><li>:cl -- 在快速修改窗口中列出错误。</li><li>:cn -- 定位到下一个错误。</li><li>:cp -- 定位到上一个错误。</li><li>:cr -- 定位到第一个错误。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="7-自动补全">7. 自动补全<a href="#7-自动补全" class="hash-link" aria-label="Direct link to 7. 自动补全" title="Direct link to 7. 自动补全">​</a></h3><ul><li>C-x C-s -- 拼写建议。</li><li>C-x C-v -- 补全vim选项和命令。</li><li>C-x C-l -- 整行补全。</li><li>C-x C-f -- 自动补全文件路径。弹出菜单后，按C-f循环选择，当然也可以按 C-n和C-p。</li><li>C-x C-p 和C-x C-n -- 用文档中出现过的单词补全当前的词。 直接按C-p和C-n也可以。</li><li>C-x C-o -- 编程时可以补全关键字和函数名啊。</li><li>C-x C-i -- 根据头文件内关键字补全。</li><li>C-x C-d -- 补全宏定义。</li><li>C-x C-n -- 按缓冲区中出现过的关键字补全。 直接按C-n或C-p即可。</li></ul><p>当弹出补全菜单后：</p><ul><li>C-p 向前切换成员；</li><li>C-n 向后切换成员；</li><li>C-e 退出下拉菜单，并退回到原来录入的文字；</li><li>C-y 退出下拉菜单，并接受当前选项。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="8-多行缩进缩出">8. 多行缩进缩出<a href="#8-多行缩进缩出" class="hash-link" aria-label="Direct link to 8. 多行缩进缩出" title="Direct link to 8. 多行缩进缩出">​</a></h3><ul><li>正常模式下，按两下&gt;;光标所在行会缩进。</li><li>如果先按了n，再按两下&gt;;，光标以下的n行会缩进。</li><li>对应的，按两下&lt;;，光标所在行会缩出。</li><li>如果在编辑代码文件，可以用=进行调整。</li><li>在可视模式下，选择要调整的代码块，按=，代码会按书写规则缩排好。</li><li>或者n =，调整n行代码的缩排。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="9-折叠">9. 折叠<a href="#9-折叠" class="hash-link" aria-label="Direct link to 9. 折叠" title="Direct link to 9. 折叠">​</a></h3><ul><li>zf -- 创建折叠的命令，可以在一个可视区域上使用该命令；</li><li>zd -- 删除当前行的折叠；</li><li>zD -- 删除当前行的折叠；</li><li>zfap -- 折叠光标所在的段；</li><li>zo -- 打开折叠的文本；</li><li>zc -- 收起折叠；</li><li>za -- 打开/关闭当前折叠；</li><li>zr -- 打开嵌套的折行；</li><li>zm -- 收起嵌套的折行；</li><li>zR (zO) -- 打开所有折行；</li><li>zM (zC) -- 收起所有折行；</li><li>zj -- 跳到下一个折叠处；</li><li>zk -- 跳到上一个折叠处；</li><li>zi -- enable/disable fold;</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="十三命令行">十三、命令行<a href="#十三命令行" class="hash-link" aria-label="Direct link to 十三、命令行" title="Direct link to 十三、命令行">​</a></h2><p>normal模式下按:进入命令行模式</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-命令行模式下的快捷键">1. 命令行模式下的快捷键：<a href="#1-命令行模式下的快捷键" class="hash-link" aria-label="Direct link to 1. 命令行模式下的快捷键：" title="Direct link to 1. 命令行模式下的快捷键：">​</a></h3><ul><li>上下方向键：上一条或者下一条命令。如果已经输入了部分命令，则找上一 条或者下一条匹配的命令。</li><li>左右方向键：左/右移一个字符。</li><li>C-w： 向前删除一个单词。</li><li>C-h： 向前删除一个字符，等同于Backspace。</li><li>C-u： 从当前位置移动到命令行开头。</li><li>C-b： 移动到命令行开头。</li><li>C-e： 移动到命令行末尾。</li><li>Shift-Left： 左移一个单词。</li><li>Shift-Right： 右移一个单词。</li><li>@： 重复上一次的冒号命令。</li><li>q： 正常模式下，q然后按&#x27;:&#x27;，打开命令行历史缓冲区， 可以像编辑文件一样编辑命令。</li><li>q/和q? 可以打开查找历史记录。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-执行外部命令">2. 执行外部命令<a href="#2-执行外部命令" class="hash-link" aria-label="Direct link to 2. 执行外部命令" title="Direct link to 2. 执行外部命令">​</a></h3><ul><li>:! cmd 执行外部命令。</li><li>:!! 执行上一次的外部命令。</li><li>:sh 调用shell，用exit返回vim。</li><li>:r !cmd 将命令的返回结果插入文件当前位置。</li><li>:m,nw !cmd 将文件的m行到n行之间的内容做为命令输入执行命令。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="十四其它">十四、其它<a href="#十四其它" class="hash-link" aria-label="Direct link to 十四、其它" title="Direct link to 十四、其它">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-工作目录">1. 工作目录<a href="#1-工作目录" class="hash-link" aria-label="Direct link to 1. 工作目录" title="Direct link to 1. 工作目录">​</a></h3><ul><li>:pwd 显示vim的工作目录。</li><li>:cd path 改变vim的工作目录。</li><li>:set autochdir 可以让vim 根据编辑的文件自动切换工作目录。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-一些快捷键收集中">2. 一些快捷键（收集中）<a href="#2-一些快捷键收集中" class="hash-link" aria-label="Direct link to 2. 一些快捷键（收集中）" title="Direct link to 2. 一些快捷键（收集中）">​</a></h3><ul><li>K: 打开光标所在词的manpage。</li><li>: 向下搜索光标所在词。</li><li>g*: 同上，但部分符合即可。</li><li>#: 向上搜索光标所在词。</li><li>g#: 同上，但部分符合即可。</li><li>g C-g: 统计全文或统计部分的字数。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-在线帮助">3. 在线帮助<a href="#3-在线帮助" class="hash-link" aria-label="Direct link to 3. 在线帮助" title="Direct link to 3. 在线帮助">​</a></h3><ul><li>:h(elp)或F1 打开总的帮助。</li><li>:help user-manual 打开用户手册。</li><li>命令帮助的格式为：第一行指明怎么使用那个命令； 然后是缩进的一段解释这个命令的作用，然后是进一步的信息。</li><li>:helptags somepath 为somepath中的文档生成索引。</li><li>:helpgrep 可以搜索整个帮助文档，匹配的列表显示在quickfix窗口中。</li><li>Ctrl+] 跳转到tag主题，Ctrl+t 跳回。</li><li>:ver 显示版本信息。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-一些小功能">4. 一些小功能<a href="#4-一些小功能" class="hash-link" aria-label="Direct link to 4. 一些小功能" title="Direct link to 4. 一些小功能">​</a></h3><ul><li>简单计算器: 在插入模式下，输入C-r =，然后输入表达式，就能在 光标处得到计算结果。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考文档">参考文档：<a href="#参考文档" class="hash-link" aria-label="Direct link to 参考文档：" title="Direct link to 参考文档：">​</a></h2><p><a href="https://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id59" target="_blank" rel="noopener noreferrer">Vim使用笔记 - JollyWing - 博客园</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/vim">vim</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/vim/VIM工作模式"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">VIM工作模式</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/vim/简明Vim练级攻略"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">简明Vim练级攻略</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#一启动vim" class="table-of-contents__link toc-highlight">一、启动Vim</a></li><li><a href="#二操作" class="table-of-contents__link toc-highlight">二、操作</a></li><li><a href="#三光标的移动" class="table-of-contents__link toc-highlight">三、光标的移动</a><ul><li><a href="#1-基本移动" class="table-of-contents__link toc-highlight">1. 基本移动</a></li><li><a href="#2-翻屏" class="table-of-contents__link toc-highlight">2. 翻屏</a></li><li><a href="#3-标记" class="table-of-contents__link toc-highlight">3. 标记</a></li></ul></li><li><a href="#四插入文本" class="table-of-contents__link toc-highlight">四、插入文本</a><ul><li><a href="#1-基本插入" class="table-of-contents__link toc-highlight">1. 基本插入</a></li><li><a href="#2-改写插入" class="table-of-contents__link toc-highlight">2. 改写插入</a></li></ul></li><li><a href="#五剪切复制和寄存器" class="table-of-contents__link toc-highlight">五、剪切复制和寄存器</a><ul><li><a href="#1-剪切和复制粘贴" class="table-of-contents__link toc-highlight">1. 剪切和复制、粘贴</a></li><li><a href="#2-文本对象" class="table-of-contents__link toc-highlight">2. 文本对象</a></li><li><a href="#3-寄存器" class="table-of-contents__link toc-highlight">3. 寄存器</a></li></ul></li><li><a href="#六查找与替换" class="table-of-contents__link toc-highlight">六、查找与替换</a><ul><li><a href="#1-查找" class="table-of-contents__link toc-highlight">1. 查找</a></li><li><a href="#2-替换" class="table-of-contents__link toc-highlight">2. 替换</a></li><li><a href="#3-正则表达式" class="table-of-contents__link toc-highlight">3. 正则表达式</a></li></ul></li><li><a href="#七排版" class="table-of-contents__link toc-highlight">七、排版</a><ul><li><a href="#1-基本排版" class="table-of-contents__link toc-highlight">1. 基本排版</a></li><li><a href="#2-拼写检查" class="table-of-contents__link toc-highlight">2. 拼写检查</a></li><li><a href="#3-统计字数" class="table-of-contents__link toc-highlight">3. 统计字数</a></li></ul></li><li><a href="#八编辑多个文件" class="table-of-contents__link toc-highlight">八、编辑多个文件</a><ul><li><a href="#1-一次编辑多个文件" class="table-of-contents__link toc-highlight">1. 一次编辑多个文件</a></li><li><a href="#2-多标签编辑" class="table-of-contents__link toc-highlight">2. 多标签编辑</a></li><li><a href="#3-缓冲区" class="table-of-contents__link toc-highlight">3. 缓冲区</a></li></ul></li><li><a href="#九分屏编辑" class="table-of-contents__link toc-highlight">九、分屏编辑</a><ul><li><a href="#1-水平分割" class="table-of-contents__link toc-highlight">1. 水平分割</a></li><li><a href="#2-垂直分割" class="table-of-contents__link toc-highlight">2. 垂直分割</a></li><li><a href="#3-关闭子窗口" class="table-of-contents__link toc-highlight">3. 关闭子窗口</a></li><li><a href="#4-调整窗口大小" class="table-of-contents__link toc-highlight">4. 调整窗口大小</a></li><li><a href="#5-切换和移动窗口" class="table-of-contents__link toc-highlight">5. 切换和移动窗口</a></li></ul></li><li><a href="#十快速编辑" class="table-of-contents__link toc-highlight">十、快速编辑</a><ul><li><a href="#1-改变大小写" class="table-of-contents__link toc-highlight">1. 改变大小写</a></li><li><a href="#2-替换normal模式" class="table-of-contents__link toc-highlight">2. 替换（normal模式）</a></li><li><a href="#3-撤消与重做normal模式" class="table-of-contents__link toc-highlight">3. 撤消与重做（normal模式）</a></li><li><a href="#4-宏" class="table-of-contents__link toc-highlight">4. 宏</a></li></ul></li><li><a href="#十一编辑特殊文件" class="table-of-contents__link toc-highlight">十一、编辑特殊文件</a><ul><li><a href="#1-文件加解密" class="table-of-contents__link toc-highlight">1. 文件加解密</a></li><li><a href="#2-文件的编码" class="table-of-contents__link toc-highlight">2. 文件的编码</a></li><li><a href="#3-文件格式" class="table-of-contents__link toc-highlight">3. 文件格式</a></li></ul></li><li><a href="#十二编程辅助" class="table-of-contents__link toc-highlight">十二、编程辅助</a><ul><li><a href="#1-一些按键" class="table-of-contents__link toc-highlight">1. 一些按键</a></li><li><a href="#2-ctags" class="table-of-contents__link toc-highlight">2. ctags</a></li><li><a href="#3-cscope" class="table-of-contents__link toc-highlight">3. cscope</a></li><li><a href="#4-gtags" class="table-of-contents__link toc-highlight">4. gtags</a></li><li><a href="#5-编译" class="table-of-contents__link toc-highlight">5. 编译</a></li><li><a href="#6-快速修改窗口" class="table-of-contents__link toc-highlight">6. 快速修改窗口</a></li><li><a href="#7-自动补全" class="table-of-contents__link toc-highlight">7. 自动补全</a></li><li><a href="#8-多行缩进缩出" class="table-of-contents__link toc-highlight">8. 多行缩进缩出</a></li><li><a href="#9-折叠" class="table-of-contents__link toc-highlight">9. 折叠</a></li></ul></li><li><a href="#十三命令行" class="table-of-contents__link toc-highlight">十三、命令行</a><ul><li><a href="#1-命令行模式下的快捷键" class="table-of-contents__link toc-highlight">1. 命令行模式下的快捷键：</a></li><li><a href="#2-执行外部命令" class="table-of-contents__link toc-highlight">2. 执行外部命令</a></li></ul></li><li><a href="#十四其它" class="table-of-contents__link toc-highlight">十四、其它</a><ul><li><a href="#1-工作目录" class="table-of-contents__link toc-highlight">1. 工作目录</a></li><li><a href="#2-一些快捷键收集中" class="table-of-contents__link toc-highlight">2. 一些快捷键（收集中）</a></li><li><a href="#3-在线帮助" class="table-of-contents__link toc-highlight">3. 在线帮助</a></li><li><a href="#4-一些小功能" class="table-of-contents__link toc-highlight">4. 一些小功能</a></li></ul></li><li><a href="#参考文档" class="table-of-contents__link toc-highlight">参考文档：</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.ffc5e5a1.js"></script>
<script src="/assets/js/main.8fee9b7a.js"></script>
</body>
</html>