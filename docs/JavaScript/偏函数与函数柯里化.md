ðŸ“†: 2022-04-05 14:22:13
ðŸ·: #åå‡½æ•° #å‡½æ•°æŸ¯é‡ŒåŒ–
***

## ä¸€ã€åå‡½æ•°

æ‰€è°“åå‡½æ•°ï¼Œå°±æ˜¯å›ºå®šä¸€ä¸ªå‡½æ•°çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªå‚æ•°ï¼Œè¿”å›žä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ç”¨äºŽæŽ¥å—å‰©ä½™çš„å‚æ•°ã€‚

### 1. å·¥åŽ‚æ–¹æ³•

é¦–å…ˆæ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š

```javascript
function add (a, b) {
    return a + b;
}

add(1, 2);
add(1, 3);
add(1, 4);
add(1, 5);
add(1, 6);
```

æˆ‘ä»¬å‘çŽ°ï¼Œè°ƒç”¨ add æ–¹æ³•æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ç›¸åŒï¼Œä½†æ˜¯æˆ‘ä»¬å†™äº†5éï¼Œé‰´äºŽæ­¤ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥å°† add æ–¹æ³•å°è£…æˆåå‡½æ•°çš„å½¢å¼æ¥å®žçŽ°æ›´åŠ ç®€æ´çš„ä»£ç ã€‚

```javascript
// å…¥å‚å‡½æ•°
function add(a, b) {
  return a + b;
}

// ç”Ÿäº§åå‡½æ•°çš„å·¥åŽ‚
function partial(fn, a) {
  return function (b) {
      return fn(a, b);
  }
}

// å¾—åˆ°åå‡½æ•°
var parAdd = partial(add, 1);

parAdd(2);
parAdd(3);
parAdd(4);
parAdd(5);
parAdd(6);
```

ç”±ä¸Šè¾¹æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåå‡½æ•°ä¹Ÿåˆ©ç”¨äº†é—­åŒ…çš„åŽŸç†ã€‚

### 2. bind æ–¹æ³•

ç”±äºŽ bind å‡½æ•°ä¼šè¿”å›žä¸€ä¸ªæœªæ‰§è¡Œçš„æ–°å‡½æ•°ï¼Œä¸”æ–°å‡½æ•°ä¸Žè¢«è°ƒå‡½æ•°å…·æœ‰ç›¸åŒçš„å‡½æ•°ä½“ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ bind æ–¹æ³•æ¥å®žçŽ°åå‡½æ•°

```javascript
function add(a, b) {
  return a + b;
}

var parAdd = add.bind(null, 1);

parAdd(2);
parAdd(3);
parAdd(4);
parAdd(5);
parAdd(6);
```

## äºŒã€å‡½æ•°æŸ¯é‡ŒåŒ–

æŸ¯é‡ŒåŒ–æ˜¯å¦ä¸€ä¸ªæœ‰è¶£çš„å¤„ç†å‡½æ•°æŠ€æœ¯ã€‚
æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰ï¼šè½¬æ¢ä¸€ä¸ªè°ƒç”¨å‡½æ•°f(a,b,c)ä¸ºf(a)(b)(c)æ–¹å¼è°ƒç”¨ã€‚
ä¸‹é¢å®žçŽ°äº†ä¸€ä¸ªæŸ¯é‡ŒåŒ–å‡½æ•°ï¼Œæ‰§è¡Œä¸€ä¸ªä¸¤å…ƒå‚æ•°å‡½æ•°ï¼Œå³è½¬æ¢f(a,b)è‡³f(a)(b):

```javascript
function add(a, b) {
  return a + b;
}

function curry(fn) {
  return function(a) {
    return function(b) {
      return fn(a, b);
    }
  }
}

var carriedSum = curry(add);

carriedSum(1)(2);
```

- curry(func)çš„ç»“æžœæ˜¯function(a)çš„ä¸€ä¸ªåŒ…è£…å™¨ã€‚
- å½“è°ƒç”¨sum(1)æ˜¯ï¼Œå‚æ•°è¢«ä¿å­˜åœ¨è¯æ³•çŽ¯å¢ƒä¸­ï¼Œç„¶åŽè¿”å›žæ–°çš„åŒ…è£…å™¨function(b)
- ç„¶åŽsum(1)(2)æä¾›2å¹¶æœ€ç»ˆè°ƒç”¨function(b)ï¼Œç„¶åŽä¼ é€’è°ƒç”¨ç»™åŽŸå§‹å¤šå‚æ•°å‡½æ•°sumã€‚

### 1. æ— é™åŠ å‚

```javascript
function add(...args) {
    var result = 0;

    if (args.length > 0) {
        for (var i = 0; i < args.length; i++) {
            result += args[i];
        }
    }

    return result;
}

function curry(fn, ...args) {
    var all = args || [];

    return function (...rest) {
        all.push(...rest);
        if (rest.length == 0) {
            return fn.apply(null, all);
        } else {
            return curry.call(null, fn, ...all);
        }
    }
}

var add2 = curry(add);

var cc = add2(1)(3)();

console.log(cc);
```

<!-- more -->
