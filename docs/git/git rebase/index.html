<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-git/git rebase">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">git rebase | aaaaaandy.github.io</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://aaaaaAndy.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://aaaaaAndy.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://aaaaaAndy.github.io/docs/git/git rebase"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="git rebase | aaaaaandy.github.io"><meta data-rh="true" name="description" content="1. 文档"><meta data-rh="true" property="og:description" content="1. 文档"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aaaaaAndy.github.io/docs/git/git rebase"><link data-rh="true" rel="alternate" href="https://aaaaaAndy.github.io/docs/git/git rebase" hreflang="en"><link data-rh="true" rel="alternate" href="https://aaaaaAndy.github.io/docs/git/git rebase" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="aaaaaandy.github.io RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="aaaaaandy.github.io Atom Feed"><link rel="stylesheet" href="/assets/css/styles.008d67db.css">
<link rel="preload" href="/assets/js/runtime~main.ffc5e5a1.js" as="script">
<link rel="preload" href="/assets/js/main.8fee9b7a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="aaaaaAndy" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="aaaaaAndy" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">aaaaaAndy</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git">git</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git add">git add</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git commit">git commit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git pull">git pull</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git fetch">git fetch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git push">git push</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git log">git log</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git merge">git merge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/git/git rebase">git rebase</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git tag">git tag</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git stash">git stash</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git pull与git fetch区别">git pull与git fetch区别</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git rebase与git merge区别">git rebase与git merge区别</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git reset与git revert区别">git reset与git revert区别</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/fork、clone与branch区别">fork、clone与branch区别</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/Commitizen引入">Commitizen引入</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git-br引入">git-br引入</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git中HEAD指向">git中HEAD指向</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git中的object">git中的object</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git常用操作">git常用操作</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git常用的命令">git常用的命令</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git版本控制">git版本控制</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/git/git解决冲突">git解决冲突</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">git rebase</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>git rebase</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-文档">1. 文档<a href="#1-文档" class="hash-link" aria-label="Direct link to 1. 文档" title="Direct link to 1. 文档">​</a></h2><p>基础命令：<code>git rebase</code></p><p>官方文档地址：<a href="https://git-scm.com/docs/git-rebase" target="_blank" rel="noopener noreferrer">https://git-scm.com/docs/git-rebase</a></p><p>功能：变基，可以对某一段线性提交历史进行编辑、删除、复制、粘贴；合理使用<code>rebase</code>可以使我们的提交历史干净、简洁。</p><p>提示：不要通过<code>rebase</code>对任何已经提交到公共仓库中的<code>commit</code>进行修改。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-基础命令">2. 基础命令<a href="#2-基础命令" class="hash-link" aria-label="Direct link to 2. 基础命令" title="Direct link to 2. 基础命令">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-多个commit合并为一个完整的commit">2.1 多个<code>commit</code>合并为一个完整的<code>commit</code><a href="#21-多个commit合并为一个完整的commit" class="hash-link" aria-label="Direct link to 21-多个commit合并为一个完整的commit" title="Direct link to 21-多个commit合并为一个完整的commit">​</a></h3><p>命令模式：</p><ul><li><code>git rebase -i [startcommit] [endcommit]</code>：其中<code>-i</code>为打开交互面，<code>[startcommit]</code>、<code>[endcommit]</code>为区间选择，其中<code>[endcommit]</code>可以省略；</li><li><code>git rebase -i HEAD~2</code>：合并最近两个<code>commit</code>。</li></ul><p>日常开发中，会存在多次<code>commit</code>的情况，但并不是每个<code>commit</code>都是需要推送到远程主机中的，<code>git rebase</code>命令提供了一种方式，可以将本地的多个<code>commit</code>合并为一个完整的<code>commit</code>，简化我们的提交记录。</p><div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">graph LR  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    A((A)) ---&gt; B((B))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    B ---&gt; C((C))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    A1((A)) ---&gt; B1((B&#x27;))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如上图所示，当前仓库中存在<code>commit</code>记录<code>A、B、C</code>，经过<code>git rebase</code>需要将<code>B、C</code>合并为<code>B&#x27;</code>。</p><p>以下面为例：</p><p>我们将最新两个<code>commit</code>合并为一个。</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">~/workspace/github/git-study</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">master ✔</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> log --graph</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* commit f6744cf023142db918ebbf3c30ced50bf659a35a </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HEAD -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> master</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:33:41 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> aa to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* commit 442d8f838b9681fec3849c40f4a68d77011ba390</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:33:25 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> a to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* commit d54458266ca9cc99b1f020122ade3486c6e158ab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:33:00 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      init a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>对当前分支执行<code>git rebase</code>命令将多个<code>commit</code>合并为一个：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">~/workspace/github/git-study</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">master ✔</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> rebase -i HEAD~2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> pick 442d8f8 </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> a to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> pick f6744cf </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> aa to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Rebase d544582..f6744cf onto d544582 (2 commands)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Commands:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">7</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># p, pick &lt;commit&gt; = use commit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># r, reword &lt;commit&gt; = use commit, but edit the commit message</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># e, edit &lt;commit&gt; = use commit, but stop for amending</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># s, squash &lt;commit&gt; = use commit, but meld into previous commit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># f, fixup &lt;commit&gt; = like &quot;squash&quot;, but discard this commit&#x27;s log message</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># x, exec &lt;command&gt; = run command (the rest of the line) using shell</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># b, break = stop here (continue rebase later with &#x27;git rebase --continue&#x27;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># d, drop &lt;commit&gt; = remove commit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># l, label &lt;label&gt; = label current HEAD with a name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># t, reset &lt;label&gt; = reset HEAD to a label</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">17</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># m, merge [-C &lt;commit&gt; | -c &lt;commit&gt;] &lt;label&gt; [# &lt;oneline&gt;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># .       create a merge commit using the original merge commit&#x27;s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># .       message (or the oneline, if no original merge commit was</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># .       specified). Use -c &lt;commit&gt; to reword the commit message.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">21</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># These lines can be re-ordered; they are executed from top to bottom.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">24</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># If you remove a line here THAT COMMIT WILL BE LOST.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">26</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># However, if you remove everything, the rebase will be aborted.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">27</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">28</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Note that empty commits are commented out</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>修改第二个<code>pick</code>命令为<code>squash</code>命令：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> pick 442d8f8 </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> a to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> squash f6744cf </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> aa to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Rebase d544582..f6744cf onto d544582 (2 commands)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Commands:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">7</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># p, pick &lt;commit&gt; = use commit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># r, reword &lt;commit&gt; = use commit, but edit the commit message</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># e, edit &lt;commit&gt; = use commit, but stop for amending</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># s, squash &lt;commit&gt; = use commit, but meld into previous commit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># f, fixup &lt;commit&gt; = like &quot;squash&quot;, but discard this commit&#x27;s log message</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># x, exec &lt;command&gt; = run command (the rest of the line) using shell</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># b, break = stop here (continue rebase later with &#x27;git rebase --continue&#x27;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># d, drop &lt;commit&gt; = remove commit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># l, label &lt;label&gt; = label current HEAD with a name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># t, reset &lt;label&gt; = reset HEAD to a label</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">17</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># m, merge [-C &lt;commit&gt; | -c &lt;commit&gt;] &lt;label&gt; [# &lt;oneline&gt;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># .       create a merge commit using the original merge commit&#x27;s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># .       message (or the oneline, if no original merge commit was</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># .       specified). Use -c &lt;commit&gt; to reword the commit message.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">21</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># These lines can be re-ordered; they are executed from top to bottom.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">24</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># If you remove a line here THAT COMMIT WILL BE LOST.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">26</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># However, if you remove everything, the rebase will be aborted.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">27</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">28</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Note that empty commits are commented out</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>此时保存退出会重新打开一个<code>vim</code>编辑器，用来编辑新<code>commit</code>的<code>message</code>：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># This is a combination of 2 commits.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># This is the 1st commit message:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> a to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># This is the commit message #2:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> aa to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Please enter the commit message for your changes. Lines starting</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># with &#x27;#&#x27; will be ignored, and an empty message aborts the commit.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Date:      Tue Jun 8 10:33:25 2021 +0800</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># interactive rebase in progress; onto d544582</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Last commands done (2 commands done):</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">17</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#    pick 442d8f8 add a to a.txt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#    squash f6744cf add aa to a.txt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># No commands remaining.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># You are currently rebasing branch &#x27;master&#x27; on &#x27;d544582&#x27;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">21</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Changes to be committed:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#       modified:   a.txt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">24</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>此处可以编辑信息，也可以直接保存退出，查看当前历史记录，发现，三个记录已经变成了两个：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">~/workspace/github/git-study</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">master ✔</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> log --graph</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* commit 59198b5170b043ac8fe9d64731ed59bf7628f26f </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HEAD -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> master</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:33:25 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> a to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> aa to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* commit d54458266ca9cc99b1f020122ade3486c6e158ab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:33:00 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      init a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-合并分支变基">2.2 合并分支（变基）<a href="#22-合并分支变基" class="hash-link" aria-label="Direct link to 2.2 合并分支（变基）" title="Direct link to 2.2 合并分支（变基）">​</a></h3><p>整体思想为：</p><ol><li>切换到对方分支：</li><li>执行<code>git rebase master</code>;</li><li>切换回<code>master</code>，在合并对方分支。</li></ol><p>当项目中存在多个分支，有时候我们需要进行合并又想保证<code>git</code>记录简约明了时可以采用这种方案：</p><div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">graph LR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    A((A)) --&gt; B((B))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    B --&gt; C((C))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    C --- master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    A --&gt; D((D))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    D --&gt; E((E))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    E --- dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>当进行<code>rebase</code>合并后：</p><div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">graph LR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    A((A)) --&gt; B((B))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    B --&gt; C((C))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    C --&gt; D((D&#x27;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    D --&gt; E((E&#x27;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    E --- master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    E --- dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>以下面为例，存在两个分支，他们各自都有自己的提交：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">~/workspace/github/git-study</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">master ✔</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> log master dev --graph</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* commit 4914c5a1eca77f6fe3797f3f65c22e98a574f864 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HEAD -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> master</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">:23:53 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     master </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> aa to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* commit 2969ea47fda0ca376df1b1e6e9238ad797a6ce1a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token plain">:29:59 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     master </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> a to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> * commit 86322b31793c24cfb021857f8116c4fc80193e11 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dev</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">:24:32 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     dev </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> b to b.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> * commit 1a31e22b6203957d91d3db0eb0181ab2215d8ff0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">/  Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token plain">:30:21 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       dev </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> b.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* commit d54458266ca9cc99b1f020122ade3486c6e158ab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:33:00 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      init a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>切换到<code>dev</code>分支，执行<code>git rebase</code>操作。这里要切换到<code>dev</code>分支也会是因为<code>rebase</code>命令的特性，<code>rebase</code>的含义是以谁作为基础进行变基，当然我们要以<code>master</code>为基础，所以要先切到<code>dev’</code>分支再执行<code>rebase</code>。</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">~/workspace/github/git-study</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dev ✔</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> rebase master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">First, rewinding </span><span class="token function" style="color:#d73a49">head</span><span class="token plain"> to replay your work on </span><span class="token function" style="color:#d73a49">top</span><span class="token plain"> of it</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Applying: dev </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> b.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Applying: dev </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> b to b.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>切换回<code>master</code>分支，执行<code>git merge</code>操作。这里需要再执行一次<code>merge</code>是因为刚才的变基只存在于<code>dev</code>分支上，<code>master</code>上的<code>commit</code>还没有变化，需要将刚才的变基结果合并过来。</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">~/workspace/github/git-study</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">master ✔</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> merge dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Updating 4914c5a</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">5f757aa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fast-forward</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> b.txt </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> changed, </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> insertion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">+</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> create mode </span><span class="token number" style="color:#36acaa">100644</span><span class="token plain"> b.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>查看<code>git log</code>记录：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">~/workspace/github/git-study</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">master ✔</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> log master dev --graph</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* commit 5f757aa912b1d4df71ac79bed1bbebea063f1524 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HEAD -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> master, dev</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">:24:32 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     dev </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> b to b.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* commit a57762f4b6dc96ccc8e0223f1e66696e6acd0784</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token plain">:30:21 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     dev </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> b.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* commit 4914c5a1eca77f6fe3797f3f65c22e98a574f864</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">:23:53 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     master </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> aa to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* commit 2969ea47fda0ca376df1b1e6e9238ad797a6ce1a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token plain">:29:59 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     master </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> a to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* commit d54458266ca9cc99b1f020122ade3486c6e158ab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:33:00 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      init a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>可以看到，<code>dev</code>分支上的<code>commit</code>都已经衍合到<code>master</code>分支上了，且他们的<code>git</code>记录是一条线，而不是<code>merge</code>之后的两条。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-删除指定commit">2.3 删除指定<code>commit</code><a href="#23-删除指定commit" class="hash-link" aria-label="Direct link to 23-删除指定commit" title="Direct link to 23-删除指定commit">​</a></h3><p>当要删除某个分支中间的<code>commit</code>时，可以使用<code>rebase</code>命令。</p><p>命令模式：</p><ul><li><code>git rebase -i [startcommit] [endcommit]</code>：其中<code>-i</code>为打开交互面，<code>[startcommit]</code>、<code>[endcommit]</code>为区间选择，其中<code>[endcommit]</code>可以省略；</li><li><code>git rebase -i HEAD~4</code>：处理最近两个<code>commit</code>。</li></ul><p>整体思想是：</p><ol><li>调用<code>git rebase</code>命令处理最近的<code>N</code>条<code>commit</code>；</li><li>进入<code>vim</code>编辑器后针对需要删除的<code>commit</code>，使用<code>drop</code>命令将其删除；</li><li>保存退出执行即可</li></ol><p>例如：</p><p>以下面<code>git</code>提交记录为例，删除中间的两个<code>master</code>字样的<code>commit</code>：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">~/workspace/github/git-study</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">master ✔</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">commit 5f757aa912b1d4df71ac79bed1bbebea063f1524 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HEAD -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> master, dev</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">:24:32 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dev </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> b to b.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">commit a57762f4b6dc96ccc8e0223f1e66696e6acd0784</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token plain">:30:21 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dev </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> b.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">commit 4914c5a1eca77f6fe3797f3f65c22e98a574f864</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">:23:53 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    master </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> aa to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">commit 2969ea47fda0ca376df1b1e6e9238ad797a6ce1a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token plain">:29:59 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    master </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> a to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">commit d54458266ca9cc99b1f020122ade3486c6e158ab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:33:00 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    init a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>执行<code>git rebase</code>命令，调起<code>vim</code>编辑框：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">~/workspace/github/git-study</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">master ✔</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> rebase -i HEAD~4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> drop 2969ea4 master </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> a to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> drop 4914c5a master </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> aa to a.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> pick a57762f dev </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> b.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> pick 5f757aa dev </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> b to b.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Rebase d544582..5f757aa onto 5f757aa (4 commands)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">7</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Commands:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># p, pick &lt;commit&gt; = use commit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># r, reword &lt;commit&gt; = use commit, but edit the commit message</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># e, edit &lt;commit&gt; = use commit, but stop for amending</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># s, squash &lt;commit&gt; = use commit, but meld into previous commit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># f, fixup &lt;commit&gt; = like &quot;squash&quot;, but discard this commit&#x27;s log message</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># x, exec &lt;command&gt; = run command (the rest of the line) using shell</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># b, break = stop here (continue rebase later with &#x27;git rebase --continue&#x27;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># d, drop &lt;commit&gt; = remove commit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">17</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># l, label &lt;label&gt; = label current HEAD with a name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># t, reset &lt;label&gt; = reset HEAD to a label</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># m, merge [-C &lt;commit&gt; | -c &lt;commit&gt;] &lt;label&gt; [# &lt;oneline&gt;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># .       create a merge commit using the original merge commit&#x27;s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">21</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># .       message (or the oneline, if no original merge commit was</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># .       specified). Use -c &lt;commit&gt; to reword the commit message.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">24</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># These lines can be re-ordered; they are executed from top to bottom.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">26</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># If you remove a line here THAT COMMIT WILL BE LOST.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">27</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">28</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># However, if you remove everything, the rebase will be aborted.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">29</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Note that empty commits are commented out</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>将两个有<code>master</code>字样的提交记录标记为命令<code>drop</code>，保存退出执行，查看删除之后的记录：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">~/workspace/github/git-study</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">master ✔</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">commit 74fdbf785410310f220f6c2f34afaef6a30e1387 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HEAD -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> master</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">:24:32 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dev </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> b to b.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">commit 0ff05c564ef803361804b6d3655328665c062aec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token plain">:30:21 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dev </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> b.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">commit d54458266ca9cc99b1f020122ade3486c6e158ab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Author: AndyWang </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">wangyuanwenqi@outlook.com</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Date:   Tue Jun </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:33:00 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    init a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>可以看完，已经完美删了了中间的两条历史记录。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="24---interactive---i">2.4 <code>--interactive &amp;&amp; -i</code><a href="#24---interactive---i" class="hash-link" aria-label="Direct link to 24---interactive---i" title="Direct link to 24---interactive---i">​</a></h3><p>以交互方式进行<code>rebase</code></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/git/git merge"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">git merge</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/git/git tag"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">git tag</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-文档" class="table-of-contents__link toc-highlight">1. 文档</a></li><li><a href="#2-基础命令" class="table-of-contents__link toc-highlight">2. 基础命令</a><ul><li><a href="#21-多个commit合并为一个完整的commit" class="table-of-contents__link toc-highlight">2.1 多个<code>commit</code>合并为一个完整的<code>commit</code></a></li><li><a href="#22-合并分支变基" class="table-of-contents__link toc-highlight">2.2 合并分支（变基）</a></li><li><a href="#23-删除指定commit" class="table-of-contents__link toc-highlight">2.3 删除指定<code>commit</code></a></li><li><a href="#24---interactive---i" class="table-of-contents__link toc-highlight">2.4 <code>--interactive &amp;&amp; -i</code></a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.ffc5e5a1.js"></script>
<script src="/assets/js/main.8fee9b7a.js"></script>
</body>
</html>